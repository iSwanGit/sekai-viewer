(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[32],{6026:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return d}));var n=a(29),r=a(47),c=a(6211),o=a(0),i=a.n(o),s=a(6021),l=a(49),u=function(e){var t=e.mode,a=e.contentKey,n=e.original,o=e.originalProps,s=e.translatedProps,u=e.assetTOptions,m=Object(l.c)().assetT;switch(t){case"original":return i.a.createElement(r.a,o,n);case"translated":return i.a.createElement(r.a,Object.assign({},s,{color:"textPrimary"}),m(a,n,u));case"both":return i.a.createElement(c.a,{container:!0,direction:"column"},i.a.createElement(r.a,Object.assign({},o,{color:"textPrimary"}),n),i.a.createElement(r.a,Object.assign({},s,{color:"textSecondary"}),m(a,n,u)))}},m=function(e){var t=e.mode,a=e.characterId,u=e.originalProps,m=e.translatedProps,d=e.assetTOptions,b=Object(s.e)("gameCharacters"),f=Object(n.a)(b,1)[0],p=Object(l.c)(),O=p.assetT,g=p.assetI18n,j=Object(o.useState)(),h=Object(n.a)(j,2),v=h[0],E=h[1];if(Object(o.useEffect)((function(){f.length&&E(f.find((function(e){return e.id===a})))}),[f,a]),!v)return i.a.createElement(r.a,null);switch(t){case"original":return i.a.createElement(r.a,Object.assign({},u,{color:"textPrimary"}),v.firstName," ",v.givenName);case"translated":return["zh-CN","zh-TW","ko","ja"].includes(g.language)?i.a.createElement(r.a,Object.assign({},m,{color:"textPrimary"}),v.firstName?O("character_name:".concat(a,".firstName"),v.firstName,d):""," ",O("character_name:".concat(a,".givenName"),v.givenName,d)):i.a.createElement(r.a,null,O("character_name:".concat(a,".givenName"),v.givenName,d)," ",v.firstName?O("character_name:".concat(a,".firstName"),v.firstName,d):"");case"both":return i.a.createElement(c.a,{container:!0,direction:"column"},i.a.createElement(r.a,u,v.firstName," ",v.givenName),["zh-CN","zh-TW","ko","ja"].includes(g.language)?i.a.createElement(r.a,Object.assign({color:"textSecondary"},m),v.firstName?O("character_name:".concat(a,".firstName"),v.firstName,d):""," ",O("character_name:".concat(a,".givenName"),v.givenName,d)):i.a.createElement(r.a,Object.assign({color:"textSecondary"},m),O("character_name:".concat(a,".givenName"),v.givenName,d)," ",v.firstName?O("character_name:".concat(a,".firstName"),v.firstName,d):""))}},d=function(e){var t=e.mode,a=e.releaseCondId,r=e.originalProps,c=e.translatedProps,l=e.assetTOptions,m=Object(s.e)("releaseConditions"),d=Object(n.a)(m,1)[0],b=Object(o.useState)(),f=Object(n.a)(b,2),p=f[0],O=f[1];if(Object(o.useEffect)((function(){d.length&&O(d.find((function(e){return e.id===a})))}),[a,d]),p){var g="";switch(p.releaseConditionType){case"none":g="release_cond:none_".concat(p.id);break;case"card_level":g="release_cond:card_level",l=Object.assign({},l,{level:p.releaseConditionTypeLevel});break;case"unit_rank":g="release_cond:unit_rank_".concat(p.releaseConditionTypeId),l=Object.assign({},l,{rank:p.releaseConditionTypeLevel});break;case"event_point":g="release_cond:event_point",l=Object.assign({},l,{point:p.releaseConditionTypeQuantity});break;default:g="release_cond:".concat(p.releaseConditionType)}return i.a.createElement(u,{mode:t,contentKey:g,original:p.sentence,originalProps:r,translatedProps:c,assetTOptions:l})}return i.a.createElement("div",null)}},6032:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(35),r=a(5969),c=Object(r.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(n.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(n.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:e.palette.text.primary}}}))},6037:function(e,t,a){"use strict";var n=a(29),r=a(88),c=a(14),o=a(5976),i=a(6211),s=a(0),l=a.n(s),u=["xs","sm","md","lg","xl"],m={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,a=e.callback,d=e.data,b=e.gridSize,f=e.viewProps,p=e.onComponentClick,O=function(e){var t=Object(r.a)({},e||m);return u.forEach((function(e,a,n){t[e]||(t[e]=a>0?t[n[a-1]]:12)})),t}(b),g=function(){var e=Object(c.a)();return u.map((function(t){return Object(o.a)(e.breakpoints.down(t))&&t})).find(Boolean)||u[u.length-1]}(),j=Object(s.useState)(!0),h=Object(n.a)(j,2),v=h[0],E=h[1],y=Object(s.useRef)(new IntersectionObserver((function(e){return a(e,E)}),{threshold:.5})),x=Object(s.useRef)(null);Object(s.useEffect)((function(){E(!0)}),[d]),Object(s.useEffect)((function(){var e=y.current,t=x.current;return t&&e.observe(t),function(){t&&e.unobserve(t)}}));var N=12/O[g],k=d.length?N:2*N;return l.a.createElement(s.Fragment,null,l.a.createElement(i.a,{container:!0,direction:"row",spacing:1},d.length?d.map((function(e,a){return l.a.createElement(i.a,{key:e.id,item:!0,xs:O.xs,sm:O.sm,md:O.md,lg:O.lg,xl:O.xl,onClick:function(){p&&p(e)}},l.a.createElement(t,Object.assign({data:e,index:a},f)))})):null),l.a.createElement(i.a,{container:!0,direction:"row",ref:x,style:{display:v?"flex":"none",paddingTop:"4px"},spacing:1},Array.from({length:k}).map((function(e,a){return l.a.createElement(i.a,{key:"empty-".concat(a),item:!0,xs:O.xs,sm:O.sm,md:O.md,lg:O.lg,xl:O.xl},l.a.createElement(t,null))}))))}},6114:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i}));var n=a(41);function r(e,t){switch(t.type){case"add":return[].concat(Object(n.a)(e),[t.payload]);case"remove":return[].concat(Object(n.a)(e.slice(0,e.indexOf(t.payload))),Object(n.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function c(e,t){switch(t.type){case"add":return[].concat(Object(n.a)(e),[t.payload]);case"remove":return[].concat(Object(n.a)(e.slice(0,e.indexOf(t.payload))),Object(n.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function o(e,t){switch(t.type){case"add":return[].concat(Object(n.a)(e),[t.payload]);case"remove":return[].concat(Object(n.a)(e.slice(0,e.indexOf(t.payload))),Object(n.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function i(e,t){switch(t.type){case"add":var a=[].concat(Object(n.a)(e),[t.payload]);return localStorage.setItem("team-build-array",JSON.stringify(a)),a;case"remove":var r=[].concat(Object(n.a)(e.slice(0,t.payload)),Object(n.a)(e.slice(t.payload+1)));return localStorage.setItem("team-build-array",JSON.stringify(r)),r;case"replace":var c=[].concat(Object(n.a)(e.slice(0,t.payload.id)),[t.payload.data],Object(n.a)(e.slice(t.payload.id+1)));return localStorage.setItem("team-build-array",JSON.stringify(c)),c;default:throw new Error}}},6229:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(4),a(3)),i=a(7),s=a(5),l=a(104),u=a(8),m=a(47),d=c.forwardRef((function(e,t){var a=e.classes,s=e.className,d=e.color,b=void 0===d?"primary":d,f=e.component,p=void 0===f?"a":f,O=e.onBlur,g=e.onFocus,j=e.TypographyClasses,h=e.underline,v=void 0===h?"hover":h,E=e.variant,y=void 0===E?"inherit":E,x=Object(r.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),N=Object(l.a)(),k=N.isFocusVisible,w=N.onBlurVisible,S=N.ref,C=c.useState(!1),z=C[0],_=C[1],T=Object(u.a)(t,S);return c.createElement(m.a,Object(n.a)({className:Object(o.a)(a.root,a["underline".concat(Object(i.a)(v))],s,z&&a.focusVisible,"button"===p&&a.button),classes:j,color:b,component:p,onBlur:function(e){z&&(w(),_(!1)),O&&O(e)},onFocus:function(e){k(e)&&_(!0),g&&g(e)},ref:T,variant:y},x))}));t.a=Object(s.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},6270:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(4),a(3)),i=a(5),s=a(59),l=Object(s.a)(c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var u=c.forwardRef((function(e,t){var a=e.alt,i=e.children,s=e.classes,u=e.className,m=e.component,d=void 0===m?"div":m,b=e.imgProps,f=e.sizes,p=e.src,O=e.srcSet,g=e.variant,j=void 0===g?"circle":g,h=Object(r.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),v=null,E=function(e){var t=e.src,a=e.srcSet,n=c.useState(!1),r=n[0],o=n[1];return c.useEffect((function(){if(t||a){o(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=a,n.onload=function(){e&&o("loaded")},n.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,a]),r}({src:p,srcSet:O}),y=p||O,x=y&&"error"!==E;return v=x?c.createElement("img",Object(n.a)({alt:a,src:p,srcSet:O,sizes:f,className:s.img},b)):null!=i?i:y&&a?a[0]:c.createElement(l,{className:s.fallback}),c.createElement(d,Object(n.a)({className:Object(o.a)(s.root,s.system,s[j],u,!x&&s.colorDefault),ref:t},h),v)}));t.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(u)},6284:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(6);t.a=Object(c.a)(r.a.createElement("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update")},6361:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(6);t.a=Object(c.a)(r.a.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish")},6362:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(6);t.a=Object(c.a)(r.a.createElement("path",{d:"M5 4h14v2H5zm0 10h4v6h6v-6h4l-7-7-7 7zm8-2v6h-2v-6H9.83L12 9.83 14.17 12H13z"}),"PublishOutlined")},6363:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(6);t.a=Object(c.a)(r.a.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp")},6364:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(6);t.a=Object(c.a)(r.a.createElement("path",{d:"M13 5v6h1.17L12 13.17 9.83 11H11V5h2m2-2H9v6H5l7 7 7-7h-4V3zm4 15H5v2h14v-2z"}),"GetAppOutlined")},6887:function(e,t,a){"use strict";a.r(t);var n=a(41),r=a(29),c=a(47),o=a(6005),i=a(6211),s=a(6279),l=a(5957),u=a(5975),m=a(133),d=a(6269),b=a(6270),f=a(6284),p=a(6361),O=a(6362),g=a(6363),j=a(6364),h=a(6844),v=a(6845),E=a(38),y=a(0),x=a.n(y),N=a(5933),k=a(51),w=a(6114),S=a(6032),C=a(6022),z=a(6021),_=a(6029),T=a(5969),P=a(6119),I=a(6143),H=a(6229),M=a(6123),R=a(6115),V=a(6026),D=Object(T.a)((function(e){return{media:{marginTop:"0.5em",paddingTop:"75%",backgroundSize:"contain"},card:{cursor:"pointer"},subheader:{}}})),A=function(e){var t=e.data,a=D(),n=Object(y.useContext)(k.a).contentTransMode,o=Object(y.useState)(""),i=Object(r.a)(o,2),s=i[0],l=i[1];return Object(y.useEffect)((function(){t&&Object(z.c)("stamp/".concat(t.assetbundleName,"_rip/").concat(t.assetbundleName,"/").concat(t.assetbundleName,".webp"),l)}),[t]),t?x.a.createElement(H.a,{href:s,target:"_blank",style:{textDecoration:"none"}},x.a.createElement(P.a,{className:a.card},x.a.createElement(M.a,{className:a.media,image:s,title:t.name}),x.a.createElement(I.a,{style:{paddingBottom:"16px"}},x.a.createElement(V.b,{mode:n,contentKey:"stamp_name:".concat(t.id),original:t.name.replace(/\[.*\]/,"").replace(/^.*\uff1a/,""),originalProps:{variant:"subtitle1"},translatedProps:{variant:"subtitle1"}})))):x.a.createElement(P.a,{className:a.card},x.a.createElement(R.a,{variant:"rect",className:a.media}),x.a.createElement(I.a,null,x.a.createElement(c.a,{variant:"subtitle1",className:a.subheader},x.a.createElement(R.a,{variant:"text",width:"90%"}))))},B=a(6037),F=A;t.default=function(){var e=Object(C.a)(),t=Object(S.a)(),a=Object(N.a)().t,T=Object(y.useContext)(k.a).contentTransMode,P=Object(z.f)(T),I=Object(z.e)("stamps"),H=Object(r.a)(I,1)[0],M=Object(y.useState)([]),R=Object(r.a)(M,2),V=R[0],D=R[1],A=Object(z.j)([]),L=Object(r.a)(A,3),J=L[0],K=L[1],W=L[2],G=Object(y.useState)(!1),q=Object(r.a)(G,2),Q=q[0],U=q[1],$=Object(y.useState)(localStorage.getItem("stamp-list-update-sort")||"desc"),X=Object(r.a)($,2),Y=X[0],Z=X[1],ee=Object(y.useReducer)(w.b,[]),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],re=Object(z.j)(0),ce=Object(r.a)(re,3),oe=ce[0],ie=ce[1],se=ce[2],le=Object(z.j)(12),ue=Object(r.a)(le,2),me=ue[0],de=ue[1],be=Object(z.j)(!0),fe=Object(r.a)(be,3),pe=fe[1],Oe=fe[2],ge=Object(z.j)(!1),je=Object(r.a)(ge,3),he=je[1],ve=je[2],Ee=Object(y.useCallback)((function(e,t){return J.slice(t*(e-1),t*e)}),[J]);Object(y.useEffect)((function(){document.title=a("title:stampList")}),[a]),Object(y.useEffect)((function(){if(H.length){var e=H;e=ae.length?H.filter((function(e){return ae.includes(e.characterId1)})):H,"desc"===Y?e=e.sort((function(e,t){return t.id-e.id})):"asc"===Y&&(e=e.sort((function(e,t){return e.id-t.id}))),W(e),D([]),se(0)}}),[ae,H,D,se,W,Y]),Object(y.useEffect)((function(){D((function(e){return[].concat(Object(n.a)(e),Object(n.a)(Ee(oe,me)))})),Oe(!0)}),[oe,me,Oe,H,Ee]),Object(y.useEffect)((function(){ve(Boolean(H.length))}),[ve,H]);var ye=Object(y.useCallback)((function(e){Z(e),localStorage.setItem("stamp-list-update-sort",e)}),[]);return x.a.createElement(y.Fragment,null,x.a.createElement(c.a,{variant:"h6",className:e.header},a("common:stamp")),x.a.createElement(o.a,{className:e.content},x.a.createElement(i.a,{container:!0,justify:"space-between"},x.a.createElement(s.a,{color:"primary",style:{marginBottom:"1%"}},x.a.createElement(l.a,{size:"medium",onClick:function(){return ye("asc")}},x.a.createElement(f.a,null),"asc"===Y?x.a.createElement(p.a,null):x.a.createElement(O.a,null)),x.a.createElement(l.a,{size:"medium",onClick:function(){return ye("desc")}},x.a.createElement(f.a,null),"desc"===Y?x.a.createElement(g.a,null):x.a.createElement(j.a,null))),x.a.createElement(s.a,{color:"primary",style:{marginBottom:"1%"}},x.a.createElement(l.a,{size:"medium",onClick:function(){return U((function(e){return!e}))}},Q?x.a.createElement(E.g,null):x.a.createElement(E.h,null),Q?x.a.createElement(h.a,null):x.a.createElement(v.a,null)))),x.a.createElement(u.a,{in:Q},x.a.createElement(m.a,{className:t.container},x.a.createElement(i.a,{container:!0,direction:"column",spacing:1},x.a.createElement(i.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between"},x.a.createElement(i.a,{item:!0,xs:12,md:1},x.a.createElement(c.a,{classes:{root:t.caption}},a("filter:character.caption"))),x.a.createElement(i.a,{item:!0,xs:12,md:10},x.a.createElement(i.a,{container:!0,spacing:1},Array.from({length:26}).map((function(e,t){return x.a.createElement(i.a,{key:"chara-filter-"+t,item:!0},x.a.createElement(d.a,{clickable:!0,color:ae.includes(t+1)?"primary":"default",avatar:x.a.createElement(b.a,{alt:P(t+1),src:_.h["CharaIcon".concat(t+1)]}),label:P(t+1),onClick:function(){ae.includes(t+1)?ne({type:"remove",payload:t+1}):ne({type:"add",payload:t+1})}}))})))))))),Object(B.a)({ViewComponent:F,callback:function(e,t){he.current&&(e[0].isIntersecting&&pe.current&&(!K.current.length||K.current.length>ie.current*de.current)?(se((function(e){return e+1})),Oe(!1)):K.current.length&&K.current.length<=ie.current*de.current&&t(!1))},data:V,gridSize:{xs:6,sm:4,md:3,lg:2}})))}}}]);
//# sourceMappingURL=32.a27894e9.chunk.js.map