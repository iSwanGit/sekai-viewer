(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[40],{6026:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a(29),r=a(47),c=a(6211),i=a(0),o=a.n(i),s=a(6021),l=a(49),m=function(e){var t=e.mode,a=e.contentKey,n=e.original,i=e.originalProps,s=e.translatedProps,m=e.assetTOptions,u=Object(l.c)().assetT;switch(t){case"original":return o.a.createElement(r.a,i,n);case"translated":return o.a.createElement(r.a,Object.assign({},s,{color:"textPrimary"}),u(a,n,m));case"both":return o.a.createElement(c.a,{container:!0,direction:"column"},o.a.createElement(r.a,Object.assign({},i,{color:"textPrimary"}),n),o.a.createElement(r.a,Object.assign({},s,{color:"textSecondary"}),u(a,n,m)))}},u=function(e){var t=e.mode,a=e.characterId,m=e.originalProps,u=e.translatedProps,d=e.assetTOptions,f=Object(s.e)("gameCharacters"),b=Object(n.a)(f,1)[0],p=Object(l.c)(),g=p.assetT,j=p.assetI18n,O=Object(i.useState)(),E=Object(n.a)(O,2),y=E[0],h=E[1];if(Object(i.useEffect)((function(){b.length&&h(b.find((function(e){return e.id===a})))}),[b,a]),!y)return o.a.createElement(r.a,null);switch(t){case"original":return o.a.createElement(r.a,Object.assign({},m,{color:"textPrimary"}),y.firstName," ",y.givenName);case"translated":return["zh-CN","zh-TW","ko","ja"].includes(j.language)?o.a.createElement(r.a,Object.assign({},u,{color:"textPrimary"}),y.firstName?g("character_name:".concat(a,".firstName"),y.firstName,d):""," ",g("character_name:".concat(a,".givenName"),y.givenName,d)):o.a.createElement(r.a,null,g("character_name:".concat(a,".givenName"),y.givenName,d)," ",y.firstName?g("character_name:".concat(a,".firstName"),y.firstName,d):"");case"both":return o.a.createElement(c.a,{container:!0,direction:"column"},o.a.createElement(r.a,m,y.firstName," ",y.givenName),["zh-CN","zh-TW","ko","ja"].includes(j.language)?o.a.createElement(r.a,Object.assign({color:"textSecondary"},u),y.firstName?g("character_name:".concat(a,".firstName"),y.firstName,d):""," ",g("character_name:".concat(a,".givenName"),y.givenName,d)):o.a.createElement(r.a,Object.assign({color:"textSecondary"},u),g("character_name:".concat(a,".givenName"),y.givenName,d)," ",y.firstName?g("character_name:".concat(a,".firstName"),y.firstName,d):""))}},d=function(e){var t=e.mode,a=e.releaseCondId,r=e.originalProps,c=e.translatedProps,l=e.assetTOptions,u=Object(s.e)("releaseConditions"),d=Object(n.a)(u,1)[0],f=Object(i.useState)(),b=Object(n.a)(f,2),p=b[0],g=b[1];if(Object(i.useEffect)((function(){d.length&&g(d.find((function(e){return e.id===a})))}),[a,d]),p){var j="";switch(p.releaseConditionType){case"none":j="release_cond:none_".concat(p.id);break;case"card_level":j="release_cond:card_level",l=Object.assign({},l,{level:p.releaseConditionTypeLevel});break;case"unit_rank":j="release_cond:unit_rank_".concat(p.releaseConditionTypeId),l=Object.assign({},l,{rank:p.releaseConditionTypeLevel});break;case"event_point":j="release_cond:event_point",l=Object.assign({},l,{point:p.releaseConditionTypeQuantity});break;default:j="release_cond:".concat(p.releaseConditionType)}return o.a.createElement(m,{mode:t,contentKey:j,original:p.sentence,originalProps:r,translatedProps:c,assetTOptions:l})}return o.a.createElement("div",null)}},6032:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(35),r=a(5969),c=Object(r.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(n.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(n.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:e.palette.text.primary}}}))},6035:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5969),r=Object(n.a)((function(){return{svg:{display:"block",width:"100%",height:"100%",pointerEvents:"visibleStroke"},skeleton:{width:"100%",paddingTop:"100%"}}}))},6037:function(e,t,a){"use strict";var n=a(29),r=a(88),c=a(14),i=a(5976),o=a(6211),s=a(0),l=a.n(s),m=["xs","sm","md","lg","xl"],u={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,a=e.callback,d=e.data,f=e.gridSize,b=e.viewProps,p=e.onComponentClick,g=function(e){var t=Object(r.a)({},e||u);return m.forEach((function(e,a,n){t[e]||(t[e]=a>0?t[n[a-1]]:12)})),t}(f),j=function(){var e=Object(c.a)();return m.map((function(t){return Object(i.a)(e.breakpoints.down(t))&&t})).find(Boolean)||m[m.length-1]}(),O=Object(s.useState)(!0),E=Object(n.a)(O,2),y=E[0],h=E[1],v=Object(s.useRef)(new IntersectionObserver((function(e){return a(e,h)}),{threshold:.5})),w=Object(s.useRef)(null);Object(s.useEffect)((function(){h(!0)}),[d]),Object(s.useEffect)((function(){var e=v.current,t=w.current;return t&&e.observe(t),function(){t&&e.unobserve(t)}}));var x=12/g[j],_=d.length?x:2*x;return l.a.createElement(s.Fragment,null,l.a.createElement(o.a,{container:!0,direction:"row",spacing:1},d.length?d.map((function(e,a){return l.a.createElement(o.a,{key:e.id,item:!0,xs:g.xs,sm:g.sm,md:g.md,lg:g.lg,xl:g.xl,onClick:function(){p&&p(e)}},l.a.createElement(t,Object.assign({data:e,index:a},b)))})):null),l.a.createElement(o.a,{container:!0,direction:"row",ref:w,style:{display:y?"flex":"none",paddingTop:"4px"},spacing:1},Array.from({length:_}).map((function(e,a){return l.a.createElement(o.a,{key:"empty-".concat(a),item:!0,xs:g.xs,sm:g.sm,md:g.md,lg:g.lg,xl:g.xl},l.a.createElement(t,null))}))))}},6114:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o}));var n=a(41);function r(e,t){switch(t.type){case"add":return[].concat(Object(n.a)(e),[t.payload]);case"remove":return[].concat(Object(n.a)(e.slice(0,e.indexOf(t.payload))),Object(n.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function c(e,t){switch(t.type){case"add":return[].concat(Object(n.a)(e),[t.payload]);case"remove":return[].concat(Object(n.a)(e.slice(0,e.indexOf(t.payload))),Object(n.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function i(e,t){switch(t.type){case"add":return[].concat(Object(n.a)(e),[t.payload]);case"remove":return[].concat(Object(n.a)(e.slice(0,e.indexOf(t.payload))),Object(n.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function o(e,t){switch(t.type){case"add":var a=[].concat(Object(n.a)(e),[t.payload]);return localStorage.setItem("team-build-array",JSON.stringify(a)),a;case"remove":var r=[].concat(Object(n.a)(e.slice(0,t.payload)),Object(n.a)(e.slice(t.payload+1)));return localStorage.setItem("team-build-array",JSON.stringify(r)),r;case"replace":var c=[].concat(Object(n.a)(e.slice(0,t.payload.id)),[t.payload.data],Object(n.a)(e.slice(t.payload.id+1)));return localStorage.setItem("team-build-array",JSON.stringify(c)),c;default:throw new Error}}},6214:function(e,t,a){"use strict";var n=a(29),r=a(6115),c=a(0),i=a.n(c),o=a(6035),s=a(6021),l=a(6029);t.a=function(e){var t=e.resourceBoxId,a=e.type,m=e.honorId,u=e.style,d=Object(o.a)(),f=Object(s.e)("resourceBoxes"),b=Object(n.a)(f,1)[0],p=Object(s.e)("honors"),g=Object(n.a)(p,1)[0],j=Object(c.useState)(),O=Object(n.a)(j,2),E=O[0],y=O[1],h=Object(c.useState)(""),v=Object(n.a)(h,2),w=v[0],x=v[1],_=Object(c.useState)(""),N=Object(n.a)(_,2),k=N[0],I=N[1];return Object(c.useEffect)((function(){b.length&&g.length&&y(g.find((function(e){return t?e.id===b.find((function(e){return e.resourceBoxPurpose===a&&e.id===t})).details.find((function(e){return"honor"===e.resourceType})).resourceId:m?e.id===m:void 0})))}),[g,b,t,a,m]),Object(c.useEffect)((function(){E&&(Object(s.c)("honor/".concat(E.assetbundleName,"_rip/degree_main.webp"),x),("event_ranking_reward"===a||E.name.startsWith("TOP"))&&Object(s.c)("honor/".concat(E.assetbundleName,"_rip/rank_main.webp"),I))}),[E,a]),E?i.a.createElement("div",{className:d.svg},i.a.createElement("svg",{style:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380 80"},i.a.createElement("image",{href:w,x:"0",y:"0",height:"80",width:"380"}),i.a.createElement("image",{href:l.i[E.honorRarity],x:"0",y:"0",height:"80",width:"380"}),k&&i.a.createElement("image",{href:k,x:"190",y:"0",width:"150",height:"78"}))):i.a.createElement(r.a,{variant:"rect",className:d.skeleton})}},6888:function(e,t,a){"use strict";a.r(t);var n=a(41),r=a(29),c=a(6007),i=a(6009),o=a(6211),s=a(47),l=a(5989),m=a(6005),u=a(6279),d=a(5957),f=a(5975),b=a(133),p=a(6269),g=a(6844),j=a(6845),O=a(38),E=a(0),y=a.n(E),h=a(5933),v=a(6114),w=a(6032),x=a(6022),_=a(6021),N=a(6214),k=a(6037),I=a(5969),S=a(6119),T=a(6143),C=a(6123),P=a(6115),B=a(51),W=a(49),z=a(6026),R=Object(I.a)((function(e){return{media:{paddingTop:"5%",backgroundSize:"contain"},card:{cursor:"pointer"},header:{},"grid-out":{padding:e.spacing("1%","2%")}}})),D={grid:function(e){var t=e.data,a=R(),n=Object(W.c)().getTranslated,r=Object(E.useContext)(B.a).contentTransMode;return t?y.a.createElement(E.Fragment,null,y.a.createElement(S.a,{className:a.card},y.a.createElement(C.a,{className:a.media,title:n(r,"honor_mission:".concat(t.id),t.sentence)},y.a.createElement(N.a,{resourceBoxId:t.rewards[0].resourceBoxId,type:"mission_reward"})),y.a.createElement(T.a,{style:{paddingBottom:"16px"}},y.a.createElement(o.a,{container:!0,direction:"column",spacing:1},y.a.createElement(o.a,{item:!0},y.a.createElement(z.b,{mode:r,contentKey:"honor_mission:".concat(t.id),original:t.sentence,originalProps:{variant:"subtitle1",className:a.header}})))))):y.a.createElement(S.a,{className:a.card},y.a.createElement(P.a,{variant:"rect",className:a.media}),y.a.createElement(T.a,null,y.a.createElement(s.a,{variant:"subtitle1",className:a.header},y.a.createElement(P.a,{variant:"text",width:"90%"})),y.a.createElement(s.a,{variant:"body2"},y.a.createElement(P.a,{variant:"text",width:"40%"}))))}};var J=function(e){var t=e.resourceBoxId,a=e.open,n=e.onClose,m=e.missionData,u=Object(h.a)().t,d=Object(_.e)("resourceBoxes"),f=Object(r.a)(d,1)[0],b=Object(_.e)("honors"),p=Object(r.a)(b,1)[0],g=Object(_.e)("honorGroups"),j=Object(r.a)(g,1)[0],O=Object(E.useState)(),v=Object(r.a)(O,2),w=v[0],x=v[1],k=Object(E.useState)(),I=Object(r.a)(k,2),S=I[0],T=I[1];return Object(E.useEffect)((function(){if(f.length&&p.length&&j.length&&t){var e=p.find((function(e){return e.id===f.find((function(e){return"mission_reward"===e.resourceBoxPurpose&&e.id===t})).details.find((function(e){return"honor"===e.resourceType})).resourceId})),a=j.find((function(t){return t.id===e.groupId}));x(e),T(a)}}),[p,f,t,j]),w&&S&&m?y.a.createElement(c.a,{open:a,onClose:n,fullWidth:!0},y.a.createElement(i.a,null,y.a.createElement(o.a,{container:!0,spacing:2},y.a.createElement(o.a,{item:!0,container:!0,justify:"center"},y.a.createElement(N.a,{resourceBoxId:t,type:"mission_reward"}))),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("common:id")),y.a.createElement(s.a,null,w.id)),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("common:title")),y.a.createElement(s.a,null,w.name)),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(o.a,{item:!0,xs:3,md:2},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("common:description"))),y.a.createElement(o.a,{item:!0,xs:8,md:9},y.a.createElement(s.a,{align:"right"},m.sentence))),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("mission:type.caption")),y.a.createElement(s.a,null,u("mission:type.".concat(m.honorMissionType)))),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(o.a,{item:!0,xs:3,md:2},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("mission:requirement"))),y.a.createElement(o.a,{item:!0,xs:8,md:9},y.a.createElement(s.a,{align:"right"},m.requirement))),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("mission:mission_group")),y.a.createElement(s.a,null,S.honorType)),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("common:rarity")),y.a.createElement(s.a,null,w.honorRarity)),y.a.createElement(l.a,{style:{margin:"1% 0"}}),w.levels.map((function(e){return y.a.createElement(E.Fragment,null,y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("common:level")),y.a.createElement(s.a,null,e.level)),y.a.createElement(l.a,{style:{margin:"1% 0"}}),y.a.createElement(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center"},y.a.createElement(o.a,{item:!0,xs:3,md:2},y.a.createElement(s.a,{variant:"subtitle1",style:{fontWeight:600}},u("common:description"))),y.a.createElement(o.a,{item:!0,xs:8,md:9},y.a.createElement(s.a,{align:"right"},e.description))),y.a.createElement(l.a,{style:{margin:"1% 0"}}))})))):null};t.default=function(){var e=Object(x.a)(),t=Object(w.a)(),a=Object(h.a)().t,c=Object(_.e)("honorMissions"),i=Object(r.a)(c,1)[0],l=Object(E.useState)([]),N=Object(r.a)(l,2),I=N[0],S=N[1],T=Object(E.useState)(!1),C=Object(r.a)(T,2),P=C[0],B=C[1],W=Object(E.useState)(0),z=Object(r.a)(W,2),R=z[0],F=z[1],M=Object(E.useState)(),K=Object(r.a)(M,2),L=K[0],q=K[1],A=Object(E.useState)(localStorage.getItem("event-list-grid-view-type")||"grid"),V=Object(r.a)(A,1)[0],G=Object(_.j)(1),H=Object(r.a)(G,3),Q=H[0],U=H[1],X=H[2],Y=Object(_.j)(12),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1],te=Object(_.j)(!0),ae=Object(r.a)(te,3),ne=ae[1],re=ae[2],ce=Object(_.j)(!1),ie=Object(r.a)(ce,3),oe=ie[1],se=ie[2],le=Object(E.useState)(!1),me=Object(r.a)(le,2),ue=me[0],de=me[1],fe=Object(E.useReducer)(v.c,[]),be=Object(r.a)(fe,2),pe=be[0],ge=be[1],je=Object(_.j)([]),Oe=Object(r.a)(je,3),Ee=Oe[0],ye=Oe[1],he=Oe[2];Object(E.useEffect)((function(){document.title=a("title:honorList")}),[a]),Object(E.useEffect)((function(){if(i.length){var e=Object(n.a)(i);pe.length&&(e=e.filter((function(e){return pe.some((function(t){return e.honorMissionType.includes(t)}))}))),he(e),S([]),X(0)}}),[i,X,he,pe]),Object(E.useEffect)((function(){S((function(e){return[].concat(Object(n.a)(e),Object(n.a)(function(e,t,a){return e.slice(a*(t-1),a*t)}(Ee,Q,$)))})),re(!0)}),[Q,$,re,Ee]),Object(E.useEffect)((function(){se(Boolean(i.length))}),[se,i]);return y.a.createElement(E.Fragment,null,y.a.createElement(s.a,{variant:"h6",className:e.header},a("common:mission.main")," - ",a("common:mission.honor")),y.a.createElement(m.a,{className:e.content},y.a.createElement(o.a,{container:!0,justify:"flex-end"},y.a.createElement(u.a,{color:"primary",style:{marginBottom:"1%"}},y.a.createElement(d.a,{size:"medium",onClick:function(){return de((function(e){return!e}))}},ue?y.a.createElement(O.g,null):y.a.createElement(O.h,null),ue?y.a.createElement(g.a,null):y.a.createElement(j.a,null)))),y.a.createElement(f.a,{in:ue},y.a.createElement(b.a,{className:t.container},y.a.createElement(o.a,{container:!0,direction:"column",spacing:1},y.a.createElement(o.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between"},y.a.createElement(o.a,{item:!0,xs:12,md:1},y.a.createElement(s.a,{classes:{root:t.caption}},a("filter:missionType.caption"))),y.a.createElement(o.a,{item:!0,container:!0,xs:12,md:10,spacing:1},["clear_live","player_rank","character_rank","unit_rank","collect","duplicate_card","area_item","login","master","multi_live","action_set","read_story","virtual_live"].map((function(e){return y.a.createElement(o.a,{key:"mission-type-"+e,item:!0},y.a.createElement(p.a,{clickable:!0,color:pe.includes(e)?"primary":"default",label:a("mission:type.".concat(e)),onClick:function(){pe.includes(e)?ge({type:"remove",payload:e}):ge({type:"add",payload:e})}}))}))))))),y.a.createElement(k.a,{ViewComponent:D[V],callback:function(e,t){oe.current&&(e[0].isIntersecting&&ne.current&&(!ye.current.length||ye.current.length>U.current*ee.current)?(X((function(e){return e+1})),re(!1)):ye.current.length&&ye.current.length<=U.current*ee.current&&t(!1))},data:I,gridSize:{grid:{xs:12,sm:6,md:4,lg:3,xl:2},agenda:{xs:12},comfy:{xs:12}}[V],onComponentClick:function(e){q(e),F(e.rewards[0].resourceBoxId),B(!0)}})),y.a.createElement(J,{missionData:L,resourceBoxId:R,open:P,onClose:function(){return B(!1)}}))}}}]);
//# sourceMappingURL=40.77a7c5dc.chunk.js.map