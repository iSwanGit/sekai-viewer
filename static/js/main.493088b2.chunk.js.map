{"version":3,"sources":["utils/jwt.ts","utils/i18n.ts","context.tsx","modernizr-custom.js","components/subs/ScrollTop.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["useJwtAuth","decodedToken","useJwt","localStorage","getItem","isExpired","token","setItem","userData","JSON","stringify","parse","userMetadatum","assetI18n","i18n","createInstance","initGlobalI18n","use","initReactI18next","fetchBackend","detector","init","supportedLngs","ns","fallbackLng","default","pt","fallbackNS","backend","loadPath","window","isChinaMainland","process","returnEmptyString","useAssetI18n","assetT","useCallback","key","original","options","translated","t","Number","isNaN","getTranslated","mode","SettingContext","createContext","undefined","SettingProvider","children","useTranslation","useState","language","lang","setLang","displayMode","setDisplayMode","contentTransMode","setContentTransMode","Provider","value","updateLang","newLang","changeLanguage","updateDisplayMode","newMode","updateContentTransMode","UserContext","UserProvider","auth","sekaiProfile","setSekaiProfile","user","updateUser","newUser","updateJwtToken","newToken","updateSekaiProfile","data","removeItem","logout","usermeta","updateUserMeta","A","e","n","a","s","u","className","Modernizr","_config","classPrefix","c","baseVal","enableJSClass","RegExp","replace","enableClasses","join","f","toLowerCase","split","o","length","Boolean","_trigger","i","l","r","_version","usePrefixes","_q","on","this","setTimeout","addTest","push","name","fn","addAsyncTest","prototype","documentElement","nodeName","hasOwnProperty","call","constructor","_l","Image","onerror","onload","width","src","type","uri","shift","aliases","p","document","useStyles","makeStyles","theme","root","position","bottom","spacing","right","ScrollTop","props","classes","trigger","useScrollTrigger","target","disableHysteresis","threshold","Zoom","in","onClick","event","anchor","ownerDocument","querySelector","scrollIntoView","behavior","block","role","CardList","lazy","HomeView","MusicList","GachaList","EventList","GachaDetail","CardDetail","MusicDetail","EventDetail","ComicList","MemberDetail","MemberList","StampList","UnitDetail","About","Support","MusicRecommend","EventPointCalc","StoryReader","TitleMissionList","NormalMissionList","BeginnerMissionList","CharacterMissionList","User","Connect","EventTracker","AnnouncementList","AnnouncementDetail","toolbar","mixins","display","alignItems","padding","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","title","flexGrow","drawerPaper","outline","content","listItem","listItemInner","down","ListItemLink","icon","text","to","match","useRouteMatch","path","exact","renderLink","useMemo","forwardRef","itemProps","ref","style","ListItem","component","ListItemIcon","color","palette","secondary","main","primary","ListItemText","ListItemWithChildren","item","expansionState","setExpansionState","disabled","button","state","Collapse","timeout","unmountOnExit","map","elem","App","useContext","history","useHistory","goBack","preferDarkMode","useMediaQuery","leftBtns","React","Home","AspectRatio","Album","MoveToInbox","CropOriginal","Assignment","ControlCamera","QueueMusic","Textsms","Timeline","MonetizationOn","Info","mobileOpen","setMobileOpen","isSettingsOpen","setIsSettingsOpen","sidebarExpansionStates","setSidebarExpansionStates","mobileMenuOpen","setMobileMenuOpen","mobileMenuAnchorEl","setMobileMenuAnchorEl","createMuiTheme","handleDrawerToggle","Typography","variant","Divider","List","slice","ExpandLess","ExpandMore","container","body","ThemeProvider","CssBaseline","AppBar","Toolbar","IconButton","edge","noWrap","disableRipple","size","ArrowBackIos","fontSize","Hidden","smDown","implementation","Settings","common","white","AccountCircle","mdUp","ev","currentTarget","MoreVert","Menu","anchorEl","keepMounted","open","onClose","MenuItem","Drawer","direction","paper","ModalProps","Container","id","fallback","Fab","aria-label","KeyboardArrowUp","Dialog","DialogTitle","DialogContent","FormControl","margin","FormLabel","RadioGroup","row","onChange","v","FormControlLabel","control","Radio","label","Brightness4","Brightness7","BrightnessAuto","DialogActions","Button","location","hostname","TagManager","initialize","gtmId","localforage","then","country","Axios","get","res","ReactDOM","render","StrictMode","getElementById","lastCheck","Date","getTime","axios","create","baseURL","headers","authorization","userMetaDatum","String","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.493088b2.chunk.js","sourcesContent":["import { UserMetadatumModel, UserModel } from \"./../strapi-model.d\";\n// import { useState } from \"react\";\nimport { useJwt } from \"react-jwt\";\n\nexport default function useJwtAuth(): {\n  decodedToken: any;\n  isExpired: boolean;\n  token: string;\n  user: UserModel | null;\n  usermeta: UserMetadatumModel | null;\n} {\n  return {\n    decodedToken: useJwt(localStorage.getItem(\"authToken\") || \"\").decodedToken,\n    isExpired: useJwt(localStorage.getItem(\"authToken\") || \"\").isExpired,\n    set token(token: string) {\n      localStorage.setItem(\"authToken\", token);\n    },\n    get token(): string {\n      return localStorage.getItem(\"authToken\") || \"\";\n    },\n    set user(userData: UserModel | null) {\n      localStorage.setItem(\"userData\", JSON.stringify(userData));\n    },\n    get user(): UserModel | null {\n      return JSON.parse(\n        localStorage.getItem(\"userData\") || \"null\"\n      ) as UserModel | null;\n    },\n    set usermeta(userMetadatum: UserMetadatumModel | null) {\n      localStorage.setItem(\"userMetaDatum\", JSON.stringify(userMetadatum));\n    },\n    get usermeta(): UserMetadatumModel | null {\n      return JSON.parse(\n        localStorage.getItem(\"userMetaDatum\") || \"null\"\n      ) as UserMetadatumModel;\n    },\n  };\n}\n","import { ContentTransModeType } from \"./../types.d\";\nimport i18n, { TOptions } from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport fetchBackend from \"i18next-fetch-backend\";\nimport detector from \"i18next-browser-languagedetector\";\nimport { useCallback } from \"react\";\n\nexport const assetI18n: typeof i18n = i18n.createInstance();\n\nexport function initGlobalI18n() {\n  i18n\n    .use(initReactI18next)\n    .use(fetchBackend)\n    .use(detector)\n    .init({\n      supportedLngs: [\n        \"en\",\n        \"zh-CN\",\n        \"zh-TW\",\n        \"ja\",\n        \"ko\",\n        \"es\",\n        \"de\",\n        \"pt-BR\",\n        \"ru\",\n        \"it\",\n        \"pl\",\n        \"fr\",\n        \"id\",\n        \"th\",\n      ],\n      ns: [\n        \"common\",\n        \"home\",\n        \"card\",\n        \"music\",\n        \"gacha\",\n        \"event\",\n        \"unit\",\n        \"member\",\n        \"filter\",\n        \"music\",\n        \"title\",\n        \"member\",\n        \"unit\",\n        \"about\",\n        \"support\",\n        \"music_recommend\",\n        \"story_reader\",\n        \"mission\",\n        \"event_calc\",\n        \"team_build\",\n        \"user\",\n        \"auth\",\n        \"announcement\",\n        \"comment\",\n      ],\n      fallbackLng: {\n        default: [\"en\"],\n        pt: [\"pt-BR\", \"en\"],\n      },\n      fallbackNS: \"common\",\n      backend: {\n        loadPath:\n          (window.isChinaMainland\n            ? process.env.REACT_APP_JSON_DOMAIN_CN\n            : process.env.PUBLIC_URL) + \"/locales/{{lng}}/{{ns}}.json\",\n      },\n      returnEmptyString: false,\n    });\n\n  assetI18n\n    .use(fetchBackend)\n    .use(detector)\n    .init({\n      supportedLngs: [\n        \"en\",\n        \"zh-CN\",\n        \"zh-TW\",\n        \"ja\",\n        \"ko\",\n        \"es\",\n        \"de\",\n        \"pt-BR\",\n        \"ru\",\n        \"it\",\n        \"pl\",\n        \"fr\",\n        \"id\",\n        \"th\",\n      ],\n      ns: [\n        \"music_titles\",\n        \"card_prefix\",\n        \"card_skill_name\",\n        \"event_name\",\n        \"gacha_name\",\n        \"character_name\",\n        \"skill_desc\",\n        \"character_profile\",\n        \"unit_profile\",\n        \"stamp_name\",\n        \"comic_title\",\n        \"release_cond\",\n        \"card_episode_title\",\n        \"music_vocal\",\n        \"unit_story_chapter_title\",\n        \"honor_mission\",\n        \"normal_mission\",\n        \"beginner_mission\",\n        \"honor_name\",\n        \"honorGroup_name\",\n      ],\n      fallbackLng: {\n        default: [\"ja\"],\n        pt: [\"pt-BR\", \"ja\"],\n      },\n      backend: {\n        loadPath:\n          (window.isChinaMainland\n            ? process.env.REACT_APP_JSON_DOMAIN_CN\n            : process.env.PUBLIC_URL) + \"/locales/{{lng}}/{{ns}}.json\",\n      },\n      returnEmptyString: false,\n    });\n}\n\nexport function useAssetI18n() {\n  const assetT = useCallback(\n    (key: string, original: string, options?: string | TOptions): string => {\n      const translated = assetI18n.t(key, options);\n      return !Number.isNaN(Number(translated)) ? original : translated;\n    },\n    []\n  );\n  const getTranslated = useCallback(\n    (\n      mode: ContentTransModeType,\n      key: string,\n      original: string,\n      options?: string | TOptions\n    ) => {\n      switch (mode) {\n        case \"original\":\n          return original;\n        case \"translated\":\n          return assetT(key, original, options);\n        case \"both\":\n          return `${original} | ${assetT(key, original, options)}`;\n      }\n    },\n    [assetT]\n  );\n  return { assetT, assetI18n, getTranslated };\n}\n","import React, {\n  createContext,\n  PropsWithChildren,\n  useCallback,\n  useState,\n} from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  SekaiProfileModel,\n  UserMetadatumModel,\n  UserModel,\n} from \"./strapi-model\";\nimport { ContentTransModeType, DisplayModeType } from \"./types\";\nimport { useAssetI18n } from \"./utils/i18n\";\nimport useJwtAuth from \"./utils/jwt\";\n\nexport const SettingContext = createContext<\n  | {\n      lang: string;\n      displayMode: DisplayModeType;\n      contentTransMode: ContentTransModeType;\n      updateLang(newLang: string): void;\n      updateDisplayMode(newMode: DisplayModeType): void;\n      updateContentTransMode(newMode: ContentTransModeType): void;\n    }\n  | undefined\n>(undefined);\n\nexport const SettingProvider: React.FC<PropsWithChildren<{}>> = ({\n  children,\n}) => {\n  const { i18n } = useTranslation();\n  const { assetI18n } = useAssetI18n();\n\n  const [lang, setLang] = useState(i18n.language);\n  const [displayMode, setDisplayMode] = useState<DisplayModeType>(\n    (localStorage.getItem(\"display-mode\") as DisplayModeType) || \"auto\"\n  );\n  const [contentTransMode, setContentTransMode] = useState<\n    ContentTransModeType\n  >(\n    (localStorage.getItem(\n      \"content-translation-mode\"\n    ) as ContentTransModeType) || \"translated\"\n  );\n\n  return (\n    <SettingContext.Provider\n      value={{\n        lang,\n        updateLang(newLang: string) {\n          setLang(newLang);\n          i18n.changeLanguage(newLang);\n          assetI18n.changeLanguage(newLang);\n        },\n        displayMode,\n        updateDisplayMode(newMode: DisplayModeType) {\n          setDisplayMode(newMode);\n          localStorage.setItem(\"display-mode\", newMode);\n        },\n        contentTransMode,\n        updateContentTransMode(newMode: ContentTransModeType) {\n          setContentTransMode(newMode);\n          localStorage.setItem(\"content-translation-mode\", newMode);\n        },\n      }}\n    >\n      {children}\n    </SettingContext.Provider>\n  );\n};\n\nexport const UserContext = createContext<\n  | {\n      user: UserModel | null;\n      updateUser(newUser: UserModel | null): void;\n      jwtToken: string;\n      updateJwtToken(newToken: string): void;\n      sekaiProfile?: SekaiProfileModel;\n      updateSekaiProfile(data?: SekaiProfileModel): void;\n      logout(): void;\n      usermeta: UserMetadatumModel | null;\n      updateUserMeta(data: UserMetadatumModel | null): void;\n    }\n  | undefined\n>(undefined);\n\nexport const UserProvider: React.FC<PropsWithChildren<{}>> = ({ children }) => {\n  const auth = useJwtAuth();\n\n  const [sekaiProfile, setSekaiProfile] = useState<\n    SekaiProfileModel | undefined\n  >(JSON.parse(localStorage.getItem(\"sekaiProfile\") || \"null\") || undefined);\n\n  return (\n    <UserContext.Provider\n      value={{\n        get user() {\n          return auth.user;\n        },\n        get jwtToken() {\n          return auth.token;\n        },\n        sekaiProfile,\n        updateUser: useCallback(\n          (newUser: UserModel | null) => {\n            auth.user = newUser;\n          },\n          [auth.user]\n        ),\n        updateJwtToken: useCallback(\n          (newToken: string) => {\n            auth.token = newToken;\n          },\n          [auth.token]\n        ),\n        updateSekaiProfile: useCallback((data) => {\n          setSekaiProfile(data);\n          if (data) localStorage.setItem(\"sekaiProfile\", JSON.stringify(data));\n          else localStorage.removeItem(\"sekaiProfile\");\n        }, []),\n        logout: useCallback(() => {\n          auth.user = null;\n          auth.token = \"\";\n          setSekaiProfile(undefined);\n          localStorage.removeItem(\"sekaiProfile\");\n        }, [auth.token, auth.user]),\n        get usermeta() {\n          return auth.usermeta;\n        },\n        updateUserMeta: useCallback(\n          (data) => {\n            auth.usermeta = data;\n          },\n          [auth.usermeta]\n        ),\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n","/*! modernizr 3.6.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-webp-webpalpha-webplossless_webp_lossless-setclasses !*/\n/* eslint-disable */\n!function(A,e,n){function a(A,e){return typeof A===e}function o(){var A,e,n,o,s,t,r;for(var f in l)if(l.hasOwnProperty(f)){if(A=[],e=l[f],e.name&&(A.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(n=0;n<e.options.aliases.length;n++)A.push(e.options.aliases[n].toLowerCase());for(o=a(e.fn,\"function\")?e.fn():e.fn,s=0;s<A.length;s++)t=A[s],r=t.split(\".\"),1===r.length?Modernizr[r[0]]=o:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=o),i.push((o?\"\":\"no-\")+r.join(\"-\"))}}function s(A){var e=u.className,n=Modernizr._config.classPrefix||\"\";if(c&&(e=e.baseVal),Modernizr._config.enableJSClass){var a=new RegExp(\"(^|\\\\s)\"+n+\"no-js(\\\\s|$)\");e=e.replace(a,\"$1\"+n+\"js$2\")}Modernizr._config.enableClasses&&(e+=\" \"+n+A.join(\" \"+n),c?u.className.baseVal=e:u.className=e)}function t(A,e){if(\"object\"==typeof A)for(var n in A)f(A,n)&&t(n,A[n]);else{A=A.toLowerCase();var a=A.split(\".\"),o=Modernizr[a[0]];if(2==a.length&&(o=o[a[1]]),\"undefined\"!=typeof o)return Modernizr;e=\"function\"==typeof e?e():e,1==a.length?Modernizr[a[0]]=e:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=e),s([(e&&0!=e?\"\":\"no-\")+a.join(\"-\")]),Modernizr._trigger(A,e)}return Modernizr}var i=[],l=[],r={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(A,e){var n=this;setTimeout(function(){e(n[A])},0)},addTest:function(A,e,n){l.push({name:A,fn:e,options:n})},addAsyncTest:function(A){l.push({name:null,fn:A})}},Modernizr=function(){};Modernizr.prototype=r,Modernizr=new Modernizr;var f,u=e.documentElement,c=\"svg\"===u.nodeName.toLowerCase();!function(){var A={}.hasOwnProperty;f=a(A,\"undefined\")||a(A.call,\"undefined\")?function(A,e){return e in A&&a(A.constructor.prototype[e],\"undefined\")}:function(e,n){return A.call(e,n)}}(),r._l={},r.on=function(A,e){this._l[A]||(this._l[A]=[]),this._l[A].push(e),Modernizr.hasOwnProperty(A)&&setTimeout(function(){Modernizr._trigger(A,Modernizr[A])},0)},r._trigger=function(A,e){if(this._l[A]){var n=this._l[A];setTimeout(function(){var A,a;for(A=0;A<n.length;A++)(a=n[A])(e)},0),delete this._l[A]}},Modernizr._q.push(function(){r.addTest=t}),Modernizr.addAsyncTest(function(){var A=new Image;A.onerror=function(){t(\"webplossless\",!1,{aliases:[\"webp-lossless\"]})},A.onload=function(){t(\"webplossless\",1==A.width,{aliases:[\"webp-lossless\"]})},A.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\"}),Modernizr.addAsyncTest(function(){function A(A,e,n){function a(e){var a=e&&\"load\"===e.type?1==o.width:!1,s=\"webp\"===A;t(A,s&&a?new Boolean(a):a),n&&n(e)}var o=new Image;o.onerror=a,o.onload=a,o.src=e}var e=[{uri:\"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=\",name:\"webp\"},{uri:\"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\",name:\"webp.alpha\"},{uri:\"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\",name:\"webp.animation\"},{uri:\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\",name:\"webp.lossless\"}],n=e.shift();A(n.name,n.uri,function(n){if(n&&\"load\"===n.type)for(var a=0;a<e.length;a++)A(e[a].name,e[a].uri)})}),Modernizr.addAsyncTest(function(){var A=new Image;A.onerror=function(){t(\"webpalpha\",!1,{aliases:[\"webp-alpha\"]})},A.onload=function(){t(\"webpalpha\",1==A.width,{aliases:[\"webp-alpha\"]})},A.src=\"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\"}),o(),s(i),delete r.addTest,delete r.addAsyncTest;for(var p=0;p<Modernizr._q.length;p++)Modernizr._q[p]();A.Modernizr=Modernizr}(window,document);","import { makeStyles, useScrollTrigger, Zoom } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nconst ScrollTop: React.FC<React.PropsWithChildren<{\n  window?: () => Window;\n}>> = (props) => {\n  const { children, window } = props;\n  const classes = useStyles();\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    target: window ? window() : undefined,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const anchor = (\n      (event.target as HTMLDivElement).ownerDocument || document\n    ).querySelector(\"#back-to-top-anchor\");\n\n    if (anchor) {\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {children}\n      </div>\n    </Zoom>\n  );\n};\n\nexport default ScrollTop;\n","import {\n  AppBar,\n  Button,\n  Collapse,\n  Container,\n  createMuiTheme,\n  CssBaseline,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Drawer,\n  Fab,\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  Hidden,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Menu,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Theme,\n  ThemeProvider,\n  Toolbar,\n  Typography,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport {\n  Menu as MenuIcon,\n  Home as HomeIcon,\n  AspectRatio as AspectRatioIcon,\n  Album as AlbumIcon,\n  MoveToInbox as MoveToInboxIcon,\n  ArrowBackIos as ArrowBackIosIcon,\n  Settings as SettingsIcon,\n  Brightness4,\n  Brightness7,\n  BrightnessAuto,\n  ControlCamera,\n  QueueMusic,\n  CropOriginal,\n  ExpandMore,\n  ExpandLess,\n  Info,\n  MonetizationOn,\n  Textsms,\n  KeyboardArrowUp,\n  Assignment,\n  AccountCircle,\n  Timeline,\n  MoreVert,\n} from \"@material-ui/icons\";\nimport {\n  AccountGroup,\n  Bullhorn,\n  Calculator,\n  CalendarText,\n  StickerEmoji,\n} from \"mdi-material-ui\";\nimport React, {\n  forwardRef,\n  useMemo,\n  lazy,\n  Suspense,\n  useContext,\n  Fragment,\n  useState,\n} from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Link,\n  LinkProps,\n  Route,\n  Switch,\n  useHistory,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport { SettingContext, UserProvider } from \"../context\";\nimport { ContentTransModeType, DisplayModeType } from \"../types\";\nimport ScrollTop from \"./subs/ScrollTop\";\n\nconst drawerWidth = 240;\nconst CardList = lazy(() => import(\"./card/CardList\"));\nconst HomeView = lazy(() => import(\"./Home\"));\nconst MusicList = lazy(() => import(\"./music/MusicList\"));\nconst GachaList = lazy(() => import(\"./gacha/GachaList\"));\nconst EventList = lazy(() => import(\"./event/EventList\"));\nconst GachaDetail = lazy(() => import(\"./gacha/GachaDetail\"));\nconst CardDetail = lazy(() => import(\"./card/CardDetail\"));\nconst MusicDetail = lazy(() => import(\"./music/MusicDetail\"));\nconst EventDetail = lazy(() => import(\"./event/EventDetail\"));\nconst ComicList = lazy(() => import(\"./comic/ComicList\"));\nconst MemberDetail = lazy(() => import(\"./MemberDetail\"));\nconst MemberList = lazy(() => import(\"./MemberList\"));\nconst StampList = lazy(() => import(\"./stamp/StampList\"));\nconst UnitDetail = lazy(() => import(\"./UnitDetail\"));\nconst About = lazy(() => import(\"./About\"));\nconst Support = lazy(() => import(\"./Support\"));\nconst MusicRecommend = lazy(() => import(\"./MusicRecommend\"));\nconst EventPointCalc = lazy(() => import(\"./EventPointCalc\"));\nconst StoryReader = lazy(() => import(\"./storyreader/StoryReader\"));\nconst TitleMissionList = lazy(() => import(\"./mission/honor/TitleMissionList\"));\nconst NormalMissionList = lazy(\n  () => import(\"./mission/normal/NormalMissionList\")\n);\nconst BeginnerMissionList = lazy(\n  () => import(\"./mission/beginner/BeginnerMissionList\")\n);\nconst CharacterMissionList = lazy(\n  () => import(\"./mission/character/CharacterMissionList\")\n);\nconst User = lazy(() => import(\"./user/User\"));\nconst Connect = lazy(() => import(\"./user/Connect\"));\nconst EventTracker = lazy(() => import(\"./event/EventTracker\"));\nconst AnnouncementList = lazy(() => import(\"./announcement/AnnouncementList\"));\nconst AnnouncementDetail = lazy(\n  () => import(\"./announcement/AnnouncementDetail\")\n);\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 3),\n    // justifyContent: 'flex-end'\n  },\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\",\n    },\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    \"&::-webkit-scrollbar\": {\n      width: \"0.5em\",\n    },\n    \"&::-webkit-scrollbar-track\": {\n      \"box-shadow\": \"inset 0 0 6px rgba(0,0,0,0.5)\",\n      \"border-radius\": \"10px\",\n    },\n    \"&::-webkit-scrollbar-thumb\": {\n      \"background-color\": \"darkgrey\",\n      \"border-radius\": \"10px\",\n      outline: \"1px solid slategrey\",\n    },\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    [theme.breakpoints.up(\"md\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n    },\n  },\n  listItem: {\n    \"padding-top\": \"0px\",\n    \"padding-bottom\": \"0px\",\n  },\n  listItemInner: {\n    \"padding-top\": \"4px\",\n    \"padding-bottom\": \"4px\",\n    [theme.breakpoints.down(\"md\")]: {\n      \"padding-top\": \"12px\",\n      \"padding-bottom\": \"12px\",\n    },\n  },\n}));\n\ninterface IListItemLinkProps {\n  icon?: React.ReactElement;\n  text: string;\n  to: string;\n  disabled: boolean;\n  children?: IListItemLinkProps[];\n}\n\nfunction ListItemLink(\n  props: IListItemLinkProps & { theme: Theme }\n): React.ReactElement<IListItemLinkProps> {\n  const { icon, text, to, theme } = props;\n  const match = useRouteMatch({\n    path: to,\n    exact: to === \"/\",\n  });\n  const classes = useStyles();\n\n  const renderLink = useMemo(\n    () =>\n      forwardRef<HTMLAnchorElement, Omit<LinkProps, \"to\">>((itemProps, ref) => (\n        <Link to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li\n      style={{\n        width: \"100%\",\n      }}\n    >\n      {/*\n      // @ts-ignore */}\n      <ListItem\n        component={renderLink}\n        classes={{ root: classes.listItemInner }}\n      >\n        <ListItemIcon\n          style={{\n            color: match\n              ? theme!.palette.secondary.main\n              : theme!.palette.text.primary,\n          }}\n        >\n          {icon}\n        </ListItemIcon>\n        <ListItemText\n          primary={text}\n          style={{\n            color: match\n              ? theme!.palette.secondary.main\n              : theme!.palette.text.primary,\n          }}\n        ></ListItemText>\n      </ListItem>\n    </li>\n  );\n}\n\nfunction ListItemWithChildren(props: {\n  item: IListItemLinkProps;\n  theme: Theme;\n}): React.ReactElement<{\n  item: IListItemLinkProps;\n  theme: Theme;\n}> {\n  const { item, theme } = props;\n  const match = useRouteMatch({\n    path: item.to,\n    exact: item.to === \"/\",\n  });\n  const classes = useStyles();\n\n  const [expansionState, setExpansionState] = useState(Boolean(match));\n\n  return (\n    <Fragment>\n      <ListItem\n        disabled={item.disabled}\n        button\n        key={item.to}\n        classes={{\n          root: classes.listItem,\n        }}\n        onClick={() => setExpansionState((state) => !state)}\n      >\n        <ListItem\n          classes={{\n            root: classes.listItemInner,\n          }}\n        >\n          <ListItemIcon\n            style={{\n              color: match\n                ? theme!.palette.secondary.main\n                : theme!.palette.text.primary,\n            }}\n          >\n            {item.icon}\n          </ListItemIcon>\n          <ListItemText\n            primary={item.text}\n            style={{\n              color: match\n                ? theme!.palette.secondary.main\n                : theme!.palette.text.primary,\n            }}\n          ></ListItemText>\n          {/* {expansionState ? <ExpandLess /> : <ExpandMore />} */}\n        </ListItem>\n      </ListItem>\n      <Collapse in={expansionState} timeout=\"auto\" unmountOnExit>\n        {item.children!.map((elem) => (\n          <ListItem\n            disabled={elem.disabled}\n            button\n            key={elem.to}\n            classes={{\n              root: classes.listItem,\n            }}\n          >\n            {elem.children ? (\n              <ListItemWithChildren item={elem} theme={theme} />\n            ) : (\n              <ListItemLink\n                to={elem.to}\n                text={elem.text}\n                icon={elem.icon}\n                disabled={elem.disabled}\n                theme={theme}\n              />\n            )}\n          </ListItem>\n        ))}\n      </Collapse>\n    </Fragment>\n  );\n}\n\nfunction App() {\n  const { t } = useTranslation();\n  const {\n    lang,\n    displayMode,\n    contentTransMode,\n    updateLang,\n    updateDisplayMode,\n    updateContentTransMode,\n  } = useContext(SettingContext)!;\n  const history = useHistory();\n\n  const { goBack } = useHistory();\n\n  const preferDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n  const leftBtns: IListItemLinkProps[][] = React.useMemo(\n    () => [\n      [\n        {\n          text: t(\"common:home\"),\n          icon: <HomeIcon></HomeIcon>,\n          to: \"/\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:announcement\"),\n          icon: <Bullhorn></Bullhorn>,\n          to: \"/announcement\",\n          disabled: false,\n        },\n      ],\n      [\n        {\n          text: t(\"common:card\"),\n          icon: <AspectRatioIcon></AspectRatioIcon>,\n          to: \"/card\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:music\"),\n          icon: <AlbumIcon></AlbumIcon>,\n          to: \"/music\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:gacha\"),\n          icon: <MoveToInboxIcon></MoveToInboxIcon>,\n          to: \"/gacha\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:event\"),\n          icon: <CalendarText></CalendarText>,\n          to: \"/event\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:stamp\"),\n          icon: <StickerEmoji />,\n          to: \"/stamp\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:comic\"),\n          icon: <CropOriginal />,\n          to: \"/comic\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:character\"),\n          icon: <AccountGroup></AccountGroup>,\n          to: \"/chara\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:mission.main\"),\n          icon: <Assignment></Assignment>,\n          to: \"/mission\",\n          disabled: false,\n          children: [\n            {\n              text: t(\"common:mission.honor\"),\n              to: \"/mission/title\",\n              disabled: false,\n            },\n            {\n              text: t(\"common:mission.livepass\"),\n              to: \"/mission/livepass\",\n              disabled: true,\n            },\n            {\n              text: t(\"common:character\"),\n              to: \"/mission/character\",\n              disabled: false,\n            },\n            {\n              text: t(\"common:mission.normal\"),\n              to: \"/mission/normal\",\n              disabled: false,\n            },\n            {\n              text: t(\"common:mission.beginner\"),\n              to: \"/mission/beginner\",\n              disabled: false,\n            },\n          ],\n        },\n        {\n          text: \"Live2D\",\n          icon: <ControlCamera></ControlCamera>,\n          to: \"/live2d\",\n          disabled: true,\n        },\n      ],\n      [\n        {\n          text: t(\"common:musicMeta\"),\n          icon: <QueueMusic />,\n          to: \"/music_meta\",\n          disabled: true,\n        },\n        {\n          text: t(\"common:musicRecommend\"),\n          icon: <Calculator />,\n          to: \"/music_recommend\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:eventCalc\"),\n          icon: <Calculator />,\n          to: \"/event_calc\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:storyReader\"),\n          icon: <Textsms></Textsms>,\n          to: \"/storyreader\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:eventTracker\"),\n          icon: <Timeline></Timeline>,\n          to: \"/eventtracker\",\n          disabled: false,\n        },\n      ],\n      [\n        {\n          text: t(\"common:support\"),\n          icon: <MonetizationOn />,\n          to: \"/support\",\n          disabled: false,\n        },\n        {\n          text: t(\"common:about\"),\n          icon: <Info />,\n          to: \"/about\",\n          disabled: false,\n        },\n      ],\n    ],\n    [t]\n  );\n\n  const classes = useStyles();\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [sidebarExpansionStates, setSidebarExpansionStates] = useState<\n    boolean[]\n  >(leftBtns.map(() => true));\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [\n    mobileMenuAnchorEl,\n    setMobileMenuAnchorEl,\n  ] = useState<HTMLElement | null>(null);\n\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type:\n            displayMode === \"auto\"\n              ? preferDarkMode\n                ? \"dark\"\n                : \"light\"\n              : displayMode,\n          primary: {\n            main:\n              displayMode === \"auto\"\n                ? preferDarkMode\n                  ? \"#7986cb\"\n                  : \"#3f51b5\"\n                : displayMode === \"dark\"\n                ? \"#7986cb\"\n                : \"#3f51b5\",\n          },\n        },\n      }),\n    [displayMode, preferDarkMode]\n  );\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = useMemo(\n    () => (\n      <div>\n        <div className={classes.toolbar}>\n          <Typography variant=\"h6\">{t(\"common:toolbar.title\")}</Typography>\n        </div>\n        <Divider></Divider>\n        <List>\n          <ListItem\n            button\n            onClick={() =>\n              setSidebarExpansionStates((s) => [!s[0], ...s.slice(1)])\n            }\n          >\n            <Typography color=\"textSecondary\">\n              {t(\"common:community\")}\n            </Typography>\n            {sidebarExpansionStates[0] ? <ExpandLess /> : <ExpandMore />}\n          </ListItem>\n          <Collapse in={sidebarExpansionStates[0]} timeout=\"auto\" unmountOnExit>\n            {leftBtns[0].map((elem) =>\n              elem.children ? (\n                <ListItemWithChildren key={elem.to} item={elem} theme={theme} />\n              ) : (\n                <ListItem\n                  disabled={elem.disabled}\n                  button\n                  key={elem.to}\n                  classes={{\n                    root: classes.listItem,\n                  }}\n                >\n                  <ListItemLink\n                    to={elem.to}\n                    text={elem.text}\n                    icon={elem.icon}\n                    disabled={elem.disabled}\n                    theme={theme}\n                  />\n                </ListItem>\n              )\n            )}\n          </Collapse>\n          <ListItem\n            button\n            onClick={() =>\n              setSidebarExpansionStates((s) => [s[0], !s[1], ...s.slice(2)])\n            }\n          >\n            <Typography color=\"textSecondary\">\n              {t(\"common:information\")}\n            </Typography>\n            {sidebarExpansionStates[1] ? <ExpandLess /> : <ExpandMore />}\n          </ListItem>\n          <Collapse in={sidebarExpansionStates[1]} timeout=\"auto\" unmountOnExit>\n            {leftBtns[1].map((elem) =>\n              elem.children ? (\n                <ListItemWithChildren key={elem.to} item={elem} theme={theme} />\n              ) : (\n                <ListItem\n                  disabled={elem.disabled}\n                  button\n                  key={elem.to}\n                  classes={{\n                    root: classes.listItem,\n                  }}\n                >\n                  <ListItemLink\n                    to={elem.to}\n                    text={elem.text}\n                    icon={elem.icon}\n                    disabled={elem.disabled}\n                    theme={theme}\n                  />\n                </ListItem>\n              )\n            )}\n          </Collapse>\n          <ListItem\n            button\n            onClick={() =>\n              setSidebarExpansionStates((s) => [\n                s[0],\n                s[1],\n                !s[2],\n                ...s.slice(3),\n              ])\n            }\n          >\n            <Typography color=\"textSecondary\">{t(\"common:tools\")}</Typography>\n            {sidebarExpansionStates[2] ? <ExpandLess /> : <ExpandMore />}\n          </ListItem>\n          <Collapse in={sidebarExpansionStates[2]} timeout=\"auto\" unmountOnExit>\n            {leftBtns[2].map((elem) =>\n              elem.children ? (\n                <ListItemWithChildren key={elem.to} item={elem} theme={theme} />\n              ) : (\n                <ListItem\n                  disabled={elem.disabled}\n                  button\n                  key={elem.to}\n                  classes={{\n                    root: classes.listItem,\n                  }}\n                >\n                  <ListItemLink\n                    to={elem.to}\n                    text={elem.text}\n                    icon={elem.icon}\n                    disabled={elem.disabled}\n                    theme={theme}\n                  />\n                </ListItem>\n              )\n            )}\n          </Collapse>\n          <ListItem\n            button\n            onClick={() =>\n              setSidebarExpansionStates((s) => [\n                ...s.slice(0, 3),\n                !s[3],\n                ...s.slice(4),\n              ])\n            }\n          >\n            <Typography color=\"textSecondary\">{t(\"common:about\")}</Typography>\n            {sidebarExpansionStates[3] ? <ExpandLess /> : <ExpandMore />}\n          </ListItem>\n          <Collapse in={sidebarExpansionStates[3]} timeout=\"auto\" unmountOnExit>\n            {leftBtns[3].map((elem) =>\n              elem.children ? (\n                <ListItemWithChildren key={elem.to} item={elem} theme={theme} />\n              ) : (\n                <ListItem\n                  disabled={elem.disabled}\n                  button\n                  key={elem.to}\n                  classes={{\n                    root: classes.listItem,\n                  }}\n                >\n                  <ListItemLink\n                    to={elem.to}\n                    text={elem.text}\n                    icon={elem.icon}\n                    disabled={elem.disabled}\n                    theme={theme}\n                  />\n                </ListItem>\n              )\n            )}\n          </Collapse>\n        </List>\n      </div>\n    ),\n    [\n      classes.listItem,\n      classes.toolbar,\n      leftBtns,\n      sidebarExpansionStates,\n      t,\n      theme,\n    ]\n  );\n\n  const container =\n    window !== undefined ? () => window.document.body : undefined;\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              edge=\"start\"\n              onClick={handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" noWrap classes={{ root: classes.title }}>\n              Sekai Viewer <small>{process.env.REACT_APP_VERSION}</small>\n            </Typography>\n            <IconButton\n              color=\"inherit\"\n              onClick={() => goBack()}\n              disableRipple\n              style={{ padding: \".6rem\" }}\n              size=\"medium\"\n            >\n              <ArrowBackIosIcon fontSize=\"inherit\" />\n            </IconButton>\n            <Hidden smDown implementation=\"css\">\n              <IconButton\n                color=\"inherit\"\n                onClick={() => setIsSettingsOpen(true)}\n                style={{ padding: \".6rem\" }}\n                size=\"medium\"\n              >\n                <SettingsIcon fontSize=\"inherit\" />\n              </IconButton>\n              <Link to=\"/user\" style={{ color: theme.palette.common.white }}>\n                <IconButton\n                  color=\"inherit\"\n                  style={{ padding: \".6rem\" }}\n                  size=\"medium\"\n                >\n                  <AccountCircle fontSize=\"inherit\" />\n                </IconButton>\n              </Link>\n            </Hidden>\n            <Hidden mdUp implementation=\"css\">\n              <IconButton\n                onClick={(ev) => {\n                  setMobileMenuOpen(true);\n                  setMobileMenuAnchorEl(ev.currentTarget);\n                }}\n                color=\"inherit\"\n              >\n                <MoreVert />\n              </IconButton>\n            </Hidden>\n          </Toolbar>\n        </AppBar>\n        <Menu\n          anchorEl={mobileMenuAnchorEl}\n          keepMounted\n          open={mobileMenuOpen}\n          onClose={() => {\n            setMobileMenuOpen(false);\n            setMobileMenuAnchorEl(null);\n          }}\n        >\n          <MenuItem\n            onClick={() => {\n              setIsSettingsOpen(true);\n              setMobileMenuOpen(false);\n              setMobileMenuAnchorEl(null);\n            }}\n          >\n            <IconButton color=\"inherit\" size=\"medium\">\n              <SettingsIcon fontSize=\"inherit\" />\n            </IconButton>\n            <Typography>{t(\"common:settings.title\")}</Typography>\n          </MenuItem>\n          <MenuItem\n            onClick={() => {\n              history.push(\"/user\");\n              setMobileMenuOpen(false);\n              setMobileMenuAnchorEl(null);\n            }}\n          >\n            <IconButton color=\"inherit\" size=\"medium\">\n              <AccountCircle fontSize=\"inherit\" />\n            </IconButton>\n            <Typography>{t(\"common:user\")}</Typography>\n          </MenuItem>\n        </Menu>\n        <nav className={classes.drawer}>\n          <Hidden mdUp implementation=\"css\">\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n              open={mobileOpen}\n              onClose={handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n              ModalProps={{\n                keepMounted: true,\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden smDown implementation=\"css\">\n            <Drawer\n              variant=\"permanent\"\n              open\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <Container className={classes.content}>\n          <div className={classes.toolbar} id=\"back-to-top-anchor\"></div>\n          <UserProvider>\n            <Switch>\n              <Suspense fallback={<div>Loading...</div>}>\n                <Route path=\"/\" exact>\n                  <HomeView />\n                </Route>\n                <Route path=\"/card\" exact>\n                  <CardList />\n                </Route>\n                <Route path=\"/card/:cardId(\\d+)\">\n                  <CardDetail />\n                </Route>\n                <Route path=\"/music\" exact>\n                  <MusicList />\n                </Route>\n                <Route path=\"/music/:musicId(\\d+)\">\n                  <MusicDetail />\n                </Route>\n                <Route path=\"/gacha\" exact>\n                  <GachaList />\n                </Route>\n                <Route path=\"/gacha/:gachaId\">\n                  <GachaDetail />\n                </Route>\n                <Route path=\"/event\" exact>\n                  <EventList />\n                </Route>\n                <Route path=\"/event/:eventId\">\n                  <EventDetail />\n                </Route>\n                <Route path=\"/stamp\">\n                  <StampList />\n                </Route>\n                <Route path=\"/comic\">\n                  <ComicList />\n                </Route>\n                <Route path=\"/chara\" exact>\n                  <MemberList />\n                </Route>\n                <Route path=\"/chara/:charaId\">\n                  <MemberDetail />\n                </Route>\n                <Route path=\"/unit/:unitId\">\n                  <UnitDetail />\n                </Route>\n                <Route path=\"/about\" exact>\n                  <About />\n                </Route>\n                <Route path=\"/support\" exact>\n                  <Support />\n                </Route>\n                <Route path=\"/music_recommend\" exact>\n                  <MusicRecommend />\n                </Route>\n                <Route path=\"/event_calc\" exact>\n                  <EventPointCalc />\n                </Route>\n                <Route path=\"/storyreader\">\n                  <StoryReader />\n                </Route>\n                <Route path=\"/mission/title\">\n                  <TitleMissionList />\n                </Route>\n                <Route path=\"/mission/normal\">\n                  <NormalMissionList />\n                </Route>\n                <Route path=\"/mission/beginner\">\n                  <BeginnerMissionList />\n                </Route>\n                <Route path=\"/mission/character\">\n                  <CharacterMissionList />\n                </Route>\n                <Route path=\"/user\">\n                  <User />\n                </Route>\n                <Route path=\"/connect/:provider/redirect\">\n                  <Connect />\n                </Route>\n                <Route path=\"/eventtracker\">\n                  <EventTracker />\n                </Route>\n                <Route path=\"/announcement\" exact>\n                  <AnnouncementList />\n                </Route>\n                <Route path=\"/announcement/:id\">\n                  <AnnouncementDetail />\n                </Route>\n              </Suspense>\n            </Switch>\n          </UserProvider>\n        </Container>\n        <ScrollTop>\n          <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n            <KeyboardArrowUp />\n          </Fab>\n        </ScrollTop>\n        <Dialog open={isSettingsOpen} onClose={() => setIsSettingsOpen(false)}>\n          <DialogTitle>{t(\"common:settings.title\")}</DialogTitle>\n          <DialogContent>\n            <FormControl component=\"fieldset\" style={{ margin: \"1% 0\" }}>\n              <FormLabel component=\"legend\">{t(\"common:language\")}</FormLabel>\n              <RadioGroup\n                row\n                aria-label=\"language\"\n                value={lang}\n                onChange={(e, v) => updateLang(v)}\n              >\n                <FormControlLabel\n                  value=\"en\"\n                  control={<Radio />}\n                  label=\"EN\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"zh-CN\"\n                  control={<Radio />}\n                  label=\"\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"zh-TW\"\n                  control={<Radio />}\n                  label=\"\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"ja\"\n                  control={<Radio />}\n                  label=\"\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"ko\"\n                  control={<Radio />}\n                  label=\"\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"es\"\n                  control={<Radio />}\n                  label=\"Es\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"it\"\n                  control={<Radio />}\n                  label=\"It\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"pl\"\n                  control={<Radio />}\n                  label=\"Pl\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"pt-BR\"\n                  control={<Radio />}\n                  label=\"Pt-BR\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"fr\"\n                  control={<Radio />}\n                  label=\"Fr\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"id\"\n                  control={<Radio />}\n                  label=\"Ind\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"th\"\n                  control={<Radio />}\n                  label=\"\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"ru\"\n                  control={<Radio />}\n                  label=\"\"\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"de\"\n                  control={<Radio />}\n                  label=\"De\"\n                ></FormControlLabel>\n              </RadioGroup>\n            </FormControl>\n            <FormControl component=\"fieldset\" style={{ margin: \"1% 0\" }}>\n              <FormLabel component=\"legend\">{t(\"common:darkmode\")}</FormLabel>\n              <RadioGroup\n                row\n                aria-label=\"dark mode\"\n                value={displayMode}\n                onChange={(e, v) => updateDisplayMode(v as DisplayModeType)}\n              >\n                <FormControlLabel\n                  value=\"dark\"\n                  control={<Radio />}\n                  label={<Brightness4 />}\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"light\"\n                  control={<Radio />}\n                  label={<Brightness7 />}\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"auto\"\n                  control={<Radio />}\n                  label={<BrightnessAuto />}\n                ></FormControlLabel>\n              </RadioGroup>\n            </FormControl>\n            <FormControl component=\"fieldset\" style={{ margin: \"1% 0\" }}>\n              <FormLabel component=\"legend\">\n                {t(\"common:contentTranslationMode.title\")}\n              </FormLabel>\n              <RadioGroup\n                row\n                aria-label=\"show translated\"\n                value={contentTransMode}\n                onChange={(e, v) =>\n                  updateContentTransMode(v as ContentTransModeType)\n                }\n              >\n                <FormControlLabel\n                  value=\"original\"\n                  control={<Radio />}\n                  label={t(\"common:contentTranslationMode.original\")}\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"translated\"\n                  control={<Radio />}\n                  label={t(\"common:contentTranslationMode.translated\")}\n                ></FormControlLabel>\n                <FormControlLabel\n                  value=\"both\"\n                  control={<Radio />}\n                  label={t(\"common:contentTranslationMode.both\")}\n                ></FormControlLabel>\n              </RadioGroup>\n            </FormControl>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setIsSettingsOpen(false)} color=\"primary\">\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport TagManager from \"react-gtm-module\";\n\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport \"./modernizr-custom\";\nimport { initGlobalI18n } from \"./utils/i18n\";\nimport \"./index.css\";\nimport { SettingProvider } from \"./context\";\nimport Axios from \"axios\";\nimport localforage from \"localforage\";\nimport { UserMetadatumModel, UserModel } from \"./strapi-model\";\n\nTagManager.initialize({\n  gtmId: \"GTM-NFC6SW2\",\n});\n\nwindow.isChinaMainland = false;\nlocalforage\n  .getItem<string>(\"country\")\n  .then((country) => {\n    if (!country)\n      return Axios.get<{ data: { country: string } }>(\n        `${process.env.REACT_APP_API_BACKEND_BASE}/country`\n      );\n    else {\n      window.isChinaMainland = country === \"CN\";\n      initGlobalI18n();\n      return null;\n    }\n  })\n  .then((res) => {\n    if (res) {\n      window.isChinaMainland = res.data.data.country === \"CN\";\n      initGlobalI18n();\n      localforage.setItem<string>(\"country\", res.data.data.country);\n    }\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <Router>\n          <Suspense fallback=\"loading\">\n            <SettingProvider>\n              <App />\n            </SettingProvider>\n          </Suspense>\n        </Router>\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  });\n\n// check user info\n(async () => {\n  const lastCheck = Number(localStorage.getItem(\"lastUserCheck\") || \"0\");\n\n  if (\n    process.env.NODE_ENV === \"development\" ||\n    new Date().getTime() - lastCheck > 3600 * 1000\n  ) {\n    // recheck user info\n    const userData = JSON.parse(\n      localStorage.getItem(\"userData\") || \"null\"\n    ) as UserModel | null;\n    const token = localStorage.getItem(\"authToken\") || \"\";\n    if (userData && token) {\n      const axios = Axios.create({\n        baseURL: process.env.REACT_APP_STRAPI_BASE,\n      });\n      let { data: userData } = await axios.get<UserModel>(`/users/me`, {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      });\n      localStorage.setItem(\"userData\", JSON.stringify(userData));\n      let { data: userMetaDatum } = await axios.get<UserMetadatumModel>(\n        `/user-metadata/me`,\n        {\n          headers: {\n            authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      localStorage.setItem(\"userMetaDatum\", JSON.stringify(userMetaDatum));\n\n      localStorage.setItem(\"lastUserCheck\", String(new Date().getTime()));\n    }\n  }\n})();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}