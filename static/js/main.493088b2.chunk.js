/*! For license information please see main.493088b2.chunk.js.LICENSE.txt */
(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[11],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(95);function l(){return{decodedToken:Object(n.a)(localStorage.getItem("authToken")||"").decodedToken,isExpired:Object(n.a)(localStorage.getItem("authToken")||"").isExpired,set token(e){localStorage.setItem("authToken",e)},get token(){return localStorage.getItem("authToken")||""},set user(e){localStorage.setItem("userData",JSON.stringify(e))},get user(){return JSON.parse(localStorage.getItem("userData")||"null")},set usermeta(e){localStorage.setItem("userMetaDatum",JSON.stringify(e))},get usermeta(){return JSON.parse(localStorage.getItem("userMetaDatum")||"null")}}}},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return u}));var n=a(98),l=a(44),r=a(93),o=a(94),c=a(0),i=n.a.createInstance();function m(){n.a.use(l.e).use(r.a).use(o.a).init({supportedLngs:["en","zh-CN","zh-TW","ja","ko","es","de","pt-BR","ru","it","pl","fr","id","th"],ns:["common","home","card","music","gacha","event","unit","member","filter","music","title","member","unit","about","support","music_recommend","story_reader","mission","event_calc","team_build","user","auth","announcement","comment"],fallbackLng:{default:["en"],pt:["pt-BR","en"]},fallbackNS:"common",backend:{loadPath:(window.isChinaMainland?"https://sekai-json-1258184166.file.myqcloud.com":"")+"/locales/{{lng}}/{{ns}}.json"},returnEmptyString:!1}),i.use(r.a).use(o.a).init({supportedLngs:["en","zh-CN","zh-TW","ja","ko","es","de","pt-BR","ru","it","pl","fr","id","th"],ns:["music_titles","card_prefix","card_skill_name","event_name","gacha_name","character_name","skill_desc","character_profile","unit_profile","stamp_name","comic_title","release_cond","card_episode_title","music_vocal","unit_story_chapter_title","honor_mission","normal_mission","beginner_mission","honor_name","honorGroup_name"],fallbackLng:{default:["ja"],pt:["pt-BR","ja"]},backend:{loadPath:(window.isChinaMainland?"https://sekai-json-1258184166.file.myqcloud.com":"")+"/locales/{{lng}}/{{ns}}.json"},returnEmptyString:!1})}function u(){var e=Object(c.useCallback)((function(e,t,a){var n=i.t(e,a);return Number.isNaN(Number(n))?n:t}),[]),t=Object(c.useCallback)((function(t,a,n,l){switch(t){case"original":return n;case"translated":return e(a,n,l);case"both":return"".concat(n," | ").concat(e(a,n,l))}}),[e]);return{assetT:e,assetI18n:i,getTranslated:t}}},51:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return d}));var n=a(29),l=a(0),r=a.n(l),o=a(5933),c=a(49),i=a(109),m=Object(l.createContext)(void 0),u=function(e){var t=e.children,a=Object(o.a)().i18n,i=Object(c.c)().assetI18n,u=Object(l.useState)(a.language),s=Object(n.a)(u,2),d=s[0],b=s[1],p=Object(l.useState)(localStorage.getItem("display-mode")||"auto"),E=Object(n.a)(p,2),h=E[0],f=E[1],A=Object(l.useState)(localStorage.getItem("content-translation-mode")||"translated"),g=Object(n.a)(A,2),y=g[0],k=g[1];return r.a.createElement(m.Provider,{value:{lang:d,updateLang:function(e){b(e),a.changeLanguage(e),i.changeLanguage(e)},displayMode:h,updateDisplayMode:function(e){f(e),localStorage.setItem("display-mode",e)},contentTransMode:y,updateContentTransMode:function(e){k(e),localStorage.setItem("content-translation-mode",e)}}},t)},s=Object(l.createContext)(void 0),d=function(e){var t=e.children,a=Object(i.a)(),o=Object(l.useState)(JSON.parse(localStorage.getItem("sekaiProfile")||"null")||void 0),c=Object(n.a)(o,2),m=c[0],u=c[1];return r.a.createElement(s.Provider,{value:{get user(){return a.user},get jwtToken(){return a.token},sekaiProfile:m,updateUser:Object(l.useCallback)((function(e){a.user=e}),[a.user]),updateJwtToken:Object(l.useCallback)((function(e){a.token=e}),[a.token]),updateSekaiProfile:Object(l.useCallback)((function(e){u(e),e?localStorage.setItem("sekaiProfile",JSON.stringify(e)):localStorage.removeItem("sekaiProfile")}),[]),logout:Object(l.useCallback)((function(){a.user=null,a.token="",u(void 0),localStorage.removeItem("sekaiProfile")}),[a.token,a.user]),get usermeta(){return a.usermeta},updateUserMeta:Object(l.useCallback)((function(e){a.usermeta=e}),[a.usermeta])}},t)}},5896:function(e,t,a){e.exports=a(5932)},5914:function(e,t){!function(e,t,a){function n(e,t){return typeof e===t}function l(e){var t=s.className,a=m._config.classPrefix||"";if(d&&(t=t.baseVal),m._config.enableJSClass){var n=new RegExp("(^|\\s)"+a+"no-js(\\s|$)");t=t.replace(n,"$1"+a+"js$2")}m._config.enableClasses&&(t+=" "+a+e.join(" "+a),d?s.className.baseVal=t:s.className=t)}function r(e,t){if("object"==typeof e)for(var a in e)u(e,a)&&r(a,e[a]);else{var n=(e=e.toLowerCase()).split("."),o=m[n[0]];if(2==n.length&&(o=o[n[1]]),"undefined"!=typeof o)return m;t="function"==typeof t?t():t,1==n.length?m[n[0]]=t:(!m[n[0]]||m[n[0]]instanceof Boolean||(m[n[0]]=new Boolean(m[n[0]])),m[n[0]][n[1]]=t),l([(t&&0!=t?"":"no-")+n.join("-")]),m._trigger(e,t)}return m}var o=[],c=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var a=this;setTimeout((function(){t(a[e])}),0)},addTest:function(e,t,a){c.push({name:e,fn:t,options:a})},addAsyncTest:function(e){c.push({name:null,fn:e})}},m=function(){};m.prototype=i,m=new m;var u,s=t.documentElement,d="svg"===s.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;u=n(e,"undefined")||n(e.call,"undefined")?function(e,t){return t in e&&n(e.constructor.prototype[t],"undefined")}:function(t,a){return e.call(t,a)}}(),i._l={},i.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),m.hasOwnProperty(e)&&setTimeout((function(){m._trigger(e,m[e])}),0)},i._trigger=function(e,t){if(this._l[e]){var a=this._l[e];setTimeout((function(){var e;for(e=0;e<a.length;e++)(0,a[e])(t)}),0),delete this._l[e]}},m._q.push((function(){i.addTest=r})),m.addAsyncTest((function(){var e=new Image;e.onerror=function(){r("webplossless",!1)},e.onload=function(){r("webplossless",1==e.width)},e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="})),m.addAsyncTest((function(){function e(e,t,a){function n(t){var n=!(!t||"load"!==t.type)&&1==l.width;r(e,"webp"===e&&n?new Boolean(n):n),a&&a(t)}var l=new Image;l.onerror=n,l.onload=n,l.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],a=t.shift();e(a.name,a.uri,(function(a){if(a&&"load"===a.type)for(var n=0;n<t.length;n++)e(t[n].name,t[n].uri)}))})),m.addAsyncTest((function(){var e=new Image;e.onerror=function(){r("webpalpha",!1)},e.onload=function(){r("webpalpha",1==e.width)},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="})),function(){var e,t,a,l,r,i;for(var u in c)if(c.hasOwnProperty(u)){if(e=[],(t=c[u]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(a=0;a<t.options.aliases.length;a++)e.push(t.options.aliases[a].toLowerCase());for(l=n(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)1===(i=e[r].split(".")).length?m[i[0]]=l:(!m[i[0]]||m[i[0]]instanceof Boolean||(m[i[0]]=new Boolean(m[i[0]])),m[i[0]][i[1]]=l),o.push((l?"":"no-")+i.join("-"))}}(),l(o),delete i.addTest,delete i.addAsyncTest;for(var b=0;b<m._q.length;b++)m._q[b]();e.Modernizr=m}(window,document)},5915:function(e,t,a){},5932:function(e,t,a){"use strict";a.r(t);var n=a(84),l=a.n(n),r=a(100),o=a(0),c=a.n(o),i=a(11),m=a.n(i),u=a(143),s=a.n(u),d=a(41),b=a(29),p=a(35),E=a(88),h=a(5969),f=a(5935),A=a(5973),g=a(5974),y=a(5975),k=a(5976),v=a(148),O=a(47),j=a(5989),x=a(5937),w=a(5992),S=a(5993),I=a(5994),C=a(5995),_=a(5938),z=a(6018),P=a(5958),B=a(6004),T=a(6019),N=a(6005),D=a(5956),M=a(6007),Q=a(6008),R=a(6009),U=a(6010),J=a(6011),L=a(6020),G=a(6012),W=a(6017),V=a(6016),q=a(5957),X=a(5977),$=a(5978),F=a(5979),K=a(5980),Y=a(5981),H=a(5982),Z=a(5983),ee=a(5984),te=a(5985),ae=a(5986),ne=a(5987),le=a(5988),re=a(5990),oe=a(5991),ce=a(5996),ie=a(5997),me=a(5998),ue=a(5999),se=a(6e3),de=a(6006),be=a(6013),pe=a(6014),Ee=a(6015),he=a(38),fe=a(5933),Ae=a(13),ge=a(50),ye=a(51),ke=a(5971),ve=a(5972),Oe=Object(h.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),je=function(e){var t=e.children,a=e.window,n=Oe(),l=Object(ke.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return c.a.createElement(ve.a,{in:l},c.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))},xe=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(2),a.e(24)]).then(a.bind(null,6875))})),we=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(3),a.e(5),a.e(23)]).then(a.bind(null,6879))})),Se=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(25)]).then(a.bind(null,6880))})),Ie=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(28)]).then(a.bind(null,6884))})),Ce=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(27)]).then(a.bind(null,6885))})),_e=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(5),a.e(2),a.e(31)]).then(a.bind(null,6850))})),ze=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(5),a.e(26),a.e(18)]).then(a.bind(null,6851))})),Pe=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(5),a.e(8),a.e(16)]).then(a.bind(null,6874))})),Be=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(5),a.e(8),a.e(17)]).then(a.bind(null,6852))})),Te=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(36),a.e(42)]).then(a.bind(null,6886))})),Ne=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(5),a.e(2),a.e(30)]).then(a.bind(null,6854))})),De=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(53)]).then(a.bind(null,6855))})),Me=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(2),a.e(32)]).then(a.bind(null,6887))})),Qe=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(48)]).then(a.bind(null,6856))})),Re=Object(o.lazy)((function(){return a.e(39).then(a.bind(null,6857))})),Ue=Object(o.lazy)((function(){return Promise.all([a.e(29),a.e(50)]).then(a.bind(null,6858))})),Je=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(3),a.e(10),a.e(19)]).then(a.bind(null,6859))})),Le=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(3),a.e(8),a.e(21)]).then(a.bind(null,6860))})),Ge=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(33),a.e(2),a.e(51)]).then(a.bind(null,6881))})),We=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(2),a.e(40)]).then(a.bind(null,6888))})),Ve=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(9),a.e(46)]).then(a.bind(null,6889))})),qe=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(9),a.e(45)]).then(a.bind(null,6890))})),Xe=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(34)]).then(a.bind(null,6891))})),$e=Object(o.lazy)((function(){return a.e(54).then(a.bind(null,6863))})),Fe=Object(o.lazy)((function(){return a.e(44).then(a.bind(null,6864))})),Ke=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(10),a.e(13),a.e(22)]).then(a.bind(null,6882))})),Ye=Object(o.lazy)((function(){return a.e(37).then(a.bind(null,6892))})),He=Object(o.lazy)((function(){return Promise.all([a.e(1),a.e(3),a.e(20),a.e(49)]).then(a.bind(null,6883))})),Ze=Object(h.a)((function(e){return{toolbar:Object(E.a)(Object(E.a)({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",padding:e.spacing(0,3)}),root:{display:"flex"},drawer:Object(p.a)({},e.breakpoints.up("md"),{width:240,flexShrink:0}),appBar:Object(p.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(p.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),title:{flexGrow:1},drawerPaper:{width:240,"&::-webkit-scrollbar":{width:"0.5em"},"&::-webkit-scrollbar-track":{"box-shadow":"inset 0 0 6px rgba(0,0,0,0.5)","border-radius":"10px"},"&::-webkit-scrollbar-thumb":{"background-color":"darkgrey","border-radius":"10px",outline:"1px solid slategrey"}},content:Object(p.a)({flexGrow:1,padding:e.spacing(3)},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),listItem:{"padding-top":"0px","padding-bottom":"0px"},listItemInner:Object(p.a)({"padding-top":"4px","padding-bottom":"4px"},e.breakpoints.down("md"),{"padding-top":"12px","padding-bottom":"12px"})}}));function et(e){var t=e.icon,a=e.text,n=e.to,l=e.theme,r=Object(Ae.j)({path:n,exact:"/"===n}),i=Ze(),m=Object(o.useMemo)((function(){return Object(o.forwardRef)((function(e,t){return c.a.createElement(ge.b,Object.assign({to:n,ref:t},e))}))}),[n]);return c.a.createElement("li",{style:{width:"100%"}},c.a.createElement(f.a,{component:m,classes:{root:i.listItemInner}},c.a.createElement(A.a,{style:{color:r?l.palette.secondary.main:l.palette.text.primary}},t),c.a.createElement(g.a,{primary:a,style:{color:r?l.palette.secondary.main:l.palette.text.primary}})))}function tt(e){var t=e.item,a=e.theme,n=Object(Ae.j)({path:t.to,exact:"/"===t.to}),l=Ze(),r=Object(o.useState)(Boolean(n)),i=Object(b.a)(r,2),m=i[0],u=i[1];return c.a.createElement(o.Fragment,null,c.a.createElement(f.a,{disabled:t.disabled,button:!0,key:t.to,classes:{root:l.listItem},onClick:function(){return u((function(e){return!e}))}},c.a.createElement(f.a,{classes:{root:l.listItemInner}},c.a.createElement(A.a,{style:{color:n?a.palette.secondary.main:a.palette.text.primary}},t.icon),c.a.createElement(g.a,{primary:t.text,style:{color:n?a.palette.secondary.main:a.palette.text.primary}}))),c.a.createElement(y.a,{in:m,timeout:"auto",unmountOnExit:!0},t.children.map((function(e){return c.a.createElement(f.a,{disabled:e.disabled,button:!0,key:e.to,classes:{root:l.listItem}},e.children?c.a.createElement(tt,{item:e,theme:a}):c.a.createElement(et,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:a}))}))))}var at=function(){var e=Object(fe.a)().t,t=Object(o.useContext)(ye.a),a=t.lang,n=t.displayMode,l=t.contentTransMode,r=t.updateLang,i=t.updateDisplayMode,m=t.updateContentTransMode,u=Object(Ae.g)(),s=Object(Ae.g)().goBack,p=Object(k.a)("(prefers-color-scheme: dark)"),E=c.a.useMemo((function(){return[[{text:e("common:home"),icon:c.a.createElement(X.a,null),to:"/",disabled:!1},{text:e("common:announcement"),icon:c.a.createElement(he.b,null),to:"/announcement",disabled:!1}],[{text:e("common:card"),icon:c.a.createElement($.a,null),to:"/card",disabled:!1},{text:e("common:music"),icon:c.a.createElement(F.a,null),to:"/music",disabled:!1},{text:e("common:gacha"),icon:c.a.createElement(K.a,null),to:"/gacha",disabled:!1},{text:e("common:event"),icon:c.a.createElement(he.d,null),to:"/event",disabled:!1},{text:e("common:stamp"),icon:c.a.createElement(he.l,null),to:"/stamp",disabled:!1},{text:e("common:comic"),icon:c.a.createElement(Y.a,null),to:"/comic",disabled:!1},{text:e("common:character"),icon:c.a.createElement(he.a,null),to:"/chara",disabled:!1},{text:e("common:mission.main"),icon:c.a.createElement(H.a,null),to:"/mission",disabled:!1,children:[{text:e("common:mission.honor"),to:"/mission/title",disabled:!1},{text:e("common:mission.livepass"),to:"/mission/livepass",disabled:!0},{text:e("common:character"),to:"/mission/character",disabled:!1},{text:e("common:mission.normal"),to:"/mission/normal",disabled:!1},{text:e("common:mission.beginner"),to:"/mission/beginner",disabled:!1}]},{text:"Live2D",icon:c.a.createElement(Z.a,null),to:"/live2d",disabled:!0}],[{text:e("common:musicMeta"),icon:c.a.createElement(ee.a,null),to:"/music_meta",disabled:!0},{text:e("common:musicRecommend"),icon:c.a.createElement(he.c,null),to:"/music_recommend",disabled:!1},{text:e("common:eventCalc"),icon:c.a.createElement(he.c,null),to:"/event_calc",disabled:!1},{text:e("common:storyReader"),icon:c.a.createElement(te.a,null),to:"/storyreader",disabled:!1},{text:e("common:eventTracker"),icon:c.a.createElement(ae.a,null),to:"/eventtracker",disabled:!1}],[{text:e("common:support"),icon:c.a.createElement(ne.a,null),to:"/support",disabled:!1},{text:e("common:about"),icon:c.a.createElement(le.a,null),to:"/about",disabled:!1}]]}),[e]),h=Ze(),A=Object(o.useState)(!1),g=Object(b.a)(A,2),ke=g[0],ve=g[1],Oe=Object(o.useState)(!1),at=Object(b.a)(Oe,2),nt=at[0],lt=at[1],rt=Object(o.useState)(E.map((function(){return!0}))),ot=Object(b.a)(rt,2),ct=ot[0],it=ot[1],mt=Object(o.useState)(!1),ut=Object(b.a)(mt,2),st=ut[0],dt=ut[1],bt=Object(o.useState)(null),pt=Object(b.a)(bt,2),Et=pt[0],ht=pt[1],ft=c.a.useMemo((function(){return Object(v.a)({palette:{type:"auto"===n?p?"dark":"light":n,primary:{main:"auto"===n?p?"#7986cb":"#3f51b5":"dark"===n?"#7986cb":"#3f51b5"}}})}),[n,p]),At=function(){ve(!ke)},gt=Object(o.useMemo)((function(){return c.a.createElement("div",null,c.a.createElement("div",{className:h.toolbar},c.a.createElement(O.a,{variant:"h6"},e("common:toolbar.title"))),c.a.createElement(j.a,null),c.a.createElement(x.a,null,c.a.createElement(f.a,{button:!0,onClick:function(){return it((function(e){return[!e[0]].concat(Object(d.a)(e.slice(1)))}))}},c.a.createElement(O.a,{color:"textSecondary"},e("common:community")),ct[0]?c.a.createElement(re.a,null):c.a.createElement(oe.a,null)),c.a.createElement(y.a,{in:ct[0],timeout:"auto",unmountOnExit:!0},E[0].map((function(e){return e.children?c.a.createElement(tt,{key:e.to,item:e,theme:ft}):c.a.createElement(f.a,{disabled:e.disabled,button:!0,key:e.to,classes:{root:h.listItem}},c.a.createElement(et,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:ft}))}))),c.a.createElement(f.a,{button:!0,onClick:function(){return it((function(e){return[e[0],!e[1]].concat(Object(d.a)(e.slice(2)))}))}},c.a.createElement(O.a,{color:"textSecondary"},e("common:information")),ct[1]?c.a.createElement(re.a,null):c.a.createElement(oe.a,null)),c.a.createElement(y.a,{in:ct[1],timeout:"auto",unmountOnExit:!0},E[1].map((function(e){return e.children?c.a.createElement(tt,{key:e.to,item:e,theme:ft}):c.a.createElement(f.a,{disabled:e.disabled,button:!0,key:e.to,classes:{root:h.listItem}},c.a.createElement(et,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:ft}))}))),c.a.createElement(f.a,{button:!0,onClick:function(){return it((function(e){return[e[0],e[1],!e[2]].concat(Object(d.a)(e.slice(3)))}))}},c.a.createElement(O.a,{color:"textSecondary"},e("common:tools")),ct[2]?c.a.createElement(re.a,null):c.a.createElement(oe.a,null)),c.a.createElement(y.a,{in:ct[2],timeout:"auto",unmountOnExit:!0},E[2].map((function(e){return e.children?c.a.createElement(tt,{key:e.to,item:e,theme:ft}):c.a.createElement(f.a,{disabled:e.disabled,button:!0,key:e.to,classes:{root:h.listItem}},c.a.createElement(et,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:ft}))}))),c.a.createElement(f.a,{button:!0,onClick:function(){return it((function(e){return[].concat(Object(d.a)(e.slice(0,3)),[!e[3]],Object(d.a)(e.slice(4)))}))}},c.a.createElement(O.a,{color:"textSecondary"},e("common:about")),ct[3]?c.a.createElement(re.a,null):c.a.createElement(oe.a,null)),c.a.createElement(y.a,{in:ct[3],timeout:"auto",unmountOnExit:!0},E[3].map((function(e){return e.children?c.a.createElement(tt,{key:e.to,item:e,theme:ft}):c.a.createElement(f.a,{disabled:e.disabled,button:!0,key:e.to,classes:{root:h.listItem}},c.a.createElement(et,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:ft}))})))))}),[h.listItem,h.toolbar,E,ct,e,ft]),yt=void 0!==window?function(){return window.document.body}:void 0;return c.a.createElement(w.a,{theme:ft},c.a.createElement("div",{className:h.root},c.a.createElement(S.a,null),c.a.createElement(I.a,{position:"fixed",className:h.appBar},c.a.createElement(C.a,null,c.a.createElement(_.a,{color:"inherit",edge:"start",onClick:At,className:h.menuButton},c.a.createElement(ce.a,null)),c.a.createElement(O.a,{variant:"h6",noWrap:!0,classes:{root:h.title}},"Sekai Viewer ",c.a.createElement("small",null,"0.1.0")),c.a.createElement(_.a,{color:"inherit",onClick:function(){return s()},disableRipple:!0,style:{padding:".6rem"},size:"medium"},c.a.createElement(ie.a,{fontSize:"inherit"})),c.a.createElement(z.a,{smDown:!0,implementation:"css"},c.a.createElement(_.a,{color:"inherit",onClick:function(){return lt(!0)},style:{padding:".6rem"},size:"medium"},c.a.createElement(me.a,{fontSize:"inherit"})),c.a.createElement(ge.b,{to:"/user",style:{color:ft.palette.common.white}},c.a.createElement(_.a,{color:"inherit",style:{padding:".6rem"},size:"medium"},c.a.createElement(ue.a,{fontSize:"inherit"})))),c.a.createElement(z.a,{mdUp:!0,implementation:"css"},c.a.createElement(_.a,{onClick:function(e){dt(!0),ht(e.currentTarget)},color:"inherit"},c.a.createElement(se.a,null))))),c.a.createElement(P.a,{anchorEl:Et,keepMounted:!0,open:st,onClose:function(){dt(!1),ht(null)}},c.a.createElement(B.a,{onClick:function(){lt(!0),dt(!1),ht(null)}},c.a.createElement(_.a,{color:"inherit",size:"medium"},c.a.createElement(me.a,{fontSize:"inherit"})),c.a.createElement(O.a,null,e("common:settings.title"))),c.a.createElement(B.a,{onClick:function(){u.push("/user"),dt(!1),ht(null)}},c.a.createElement(_.a,{color:"inherit",size:"medium"},c.a.createElement(ue.a,{fontSize:"inherit"})),c.a.createElement(O.a,null,e("common:user")))),c.a.createElement("nav",{className:h.drawer},c.a.createElement(z.a,{mdUp:!0,implementation:"css"},c.a.createElement(T.a,{container:yt,variant:"temporary",anchor:"rtl"===ft.direction?"right":"left",open:ke,onClose:At,classes:{paper:h.drawerPaper},ModalProps:{keepMounted:!0}},gt)),c.a.createElement(z.a,{smDown:!0,implementation:"css"},c.a.createElement(T.a,{variant:"permanent",open:!0,classes:{paper:h.drawerPaper}},gt))),c.a.createElement(N.a,{className:h.content},c.a.createElement("div",{className:h.toolbar,id:"back-to-top-anchor"}),c.a.createElement(ye.d,null,c.a.createElement(Ae.d,null,c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement(Ae.b,{path:"/",exact:!0},c.a.createElement(we,null)),c.a.createElement(Ae.b,{path:"/card",exact:!0},c.a.createElement(xe,null)),c.a.createElement(Ae.b,{path:"/card/:cardId(\\d+)"},c.a.createElement(ze,null)),c.a.createElement(Ae.b,{path:"/music",exact:!0},c.a.createElement(Se,null)),c.a.createElement(Ae.b,{path:"/music/:musicId(\\d+)"},c.a.createElement(Pe,null)),c.a.createElement(Ae.b,{path:"/gacha",exact:!0},c.a.createElement(Ie,null)),c.a.createElement(Ae.b,{path:"/gacha/:gachaId"},c.a.createElement(_e,null)),c.a.createElement(Ae.b,{path:"/event",exact:!0},c.a.createElement(Ce,null)),c.a.createElement(Ae.b,{path:"/event/:eventId"},c.a.createElement(Be,null)),c.a.createElement(Ae.b,{path:"/stamp"},c.a.createElement(Me,null)),c.a.createElement(Ae.b,{path:"/comic"},c.a.createElement(Te,null)),c.a.createElement(Ae.b,{path:"/chara",exact:!0},c.a.createElement(De,null)),c.a.createElement(Ae.b,{path:"/chara/:charaId"},c.a.createElement(Ne,null)),c.a.createElement(Ae.b,{path:"/unit/:unitId"},c.a.createElement(Qe,null)),c.a.createElement(Ae.b,{path:"/about",exact:!0},c.a.createElement(Re,null)),c.a.createElement(Ae.b,{path:"/support",exact:!0},c.a.createElement(Ue,null)),c.a.createElement(Ae.b,{path:"/music_recommend",exact:!0},c.a.createElement(Je,null)),c.a.createElement(Ae.b,{path:"/event_calc",exact:!0},c.a.createElement(Le,null)),c.a.createElement(Ae.b,{path:"/storyreader"},c.a.createElement(Ge,null)),c.a.createElement(Ae.b,{path:"/mission/title"},c.a.createElement(We,null)),c.a.createElement(Ae.b,{path:"/mission/normal"},c.a.createElement(Ve,null)),c.a.createElement(Ae.b,{path:"/mission/beginner"},c.a.createElement(qe,null)),c.a.createElement(Ae.b,{path:"/mission/character"},c.a.createElement(Xe,null)),c.a.createElement(Ae.b,{path:"/user"},c.a.createElement($e,null)),c.a.createElement(Ae.b,{path:"/connect/:provider/redirect"},c.a.createElement(Fe,null)),c.a.createElement(Ae.b,{path:"/eventtracker"},c.a.createElement(Ke,null)),c.a.createElement(Ae.b,{path:"/announcement",exact:!0},c.a.createElement(Ye,null)),c.a.createElement(Ae.b,{path:"/announcement/:id"},c.a.createElement(He,null)))))),c.a.createElement(je,null,c.a.createElement(D.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},c.a.createElement(de.a,null))),c.a.createElement(M.a,{open:nt,onClose:function(){return lt(!1)}},c.a.createElement(Q.a,null,e("common:settings.title")),c.a.createElement(R.a,null,c.a.createElement(U.a,{component:"fieldset",style:{margin:"1% 0"}},c.a.createElement(J.a,{component:"legend"},e("common:language")),c.a.createElement(L.a,{row:!0,"aria-label":"language",value:a,onChange:function(e,t){return r(t)}},c.a.createElement(G.a,{value:"en",control:c.a.createElement(W.a,null),label:"EN"}),c.a.createElement(G.a,{value:"zh-CN",control:c.a.createElement(W.a,null),label:"\u7b80"}),c.a.createElement(G.a,{value:"zh-TW",control:c.a.createElement(W.a,null),label:"\u7e41"}),c.a.createElement(G.a,{value:"ja",control:c.a.createElement(W.a,null),label:"\u65e5"}),c.a.createElement(G.a,{value:"ko",control:c.a.createElement(W.a,null),label:"\ud55c"}),c.a.createElement(G.a,{value:"es",control:c.a.createElement(W.a,null),label:"Es"}),c.a.createElement(G.a,{value:"it",control:c.a.createElement(W.a,null),label:"It"}),c.a.createElement(G.a,{value:"pl",control:c.a.createElement(W.a,null),label:"Pl"}),c.a.createElement(G.a,{value:"pt-BR",control:c.a.createElement(W.a,null),label:"Pt-BR"}),c.a.createElement(G.a,{value:"fr",control:c.a.createElement(W.a,null),label:"Fr"}),c.a.createElement(G.a,{value:"id",control:c.a.createElement(W.a,null),label:"Ind"}),c.a.createElement(G.a,{value:"th",control:c.a.createElement(W.a,null),label:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"}),c.a.createElement(G.a,{value:"ru",control:c.a.createElement(W.a,null),label:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"}),c.a.createElement(G.a,{value:"de",control:c.a.createElement(W.a,null),label:"De"}))),c.a.createElement(U.a,{component:"fieldset",style:{margin:"1% 0"}},c.a.createElement(J.a,{component:"legend"},e("common:darkmode")),c.a.createElement(L.a,{row:!0,"aria-label":"dark mode",value:n,onChange:function(e,t){return i(t)}},c.a.createElement(G.a,{value:"dark",control:c.a.createElement(W.a,null),label:c.a.createElement(be.a,null)}),c.a.createElement(G.a,{value:"light",control:c.a.createElement(W.a,null),label:c.a.createElement(pe.a,null)}),c.a.createElement(G.a,{value:"auto",control:c.a.createElement(W.a,null),label:c.a.createElement(Ee.a,null)}))),c.a.createElement(U.a,{component:"fieldset",style:{margin:"1% 0"}},c.a.createElement(J.a,{component:"legend"},e("common:contentTranslationMode.title")),c.a.createElement(L.a,{row:!0,"aria-label":"show translated",value:l,onChange:function(e,t){return m(t)}},c.a.createElement(G.a,{value:"original",control:c.a.createElement(W.a,null),label:e("common:contentTranslationMode.original")}),c.a.createElement(G.a,{value:"translated",control:c.a.createElement(W.a,null),label:e("common:contentTranslationMode.translated")}),c.a.createElement(G.a,{value:"both",control:c.a.createElement(W.a,null),label:e("common:contentTranslationMode.both")})))),c.a.createElement(V.a,null,c.a.createElement(q.a,{onClick:function(){return lt(!1)},color:"primary"},"Close")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(5914);var nt=a(49),lt=(a(5915),a(86)),rt=a.n(lt),ot=a(87),ct=a.n(ot);s.a.initialize({gtmId:"GTM-NFC6SW2"}),window.isChinaMainland=!1,ct.a.getItem("country").then((function(e){return e?(window.isChinaMainland="CN"===e,Object(nt.b)(),null):rt.a.get("".concat("https://api.sekai.best","/country"))})).then((function(e){e&&(window.isChinaMainland="CN"===e.data.data.country,Object(nt.b)(),ct.a.setItem("country",e.data.data.country)),m.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ge.a,null,c.a.createElement(o.Suspense,{fallback:"loading"},c.a.createElement(ye.b,null,c.a.createElement(at,null))))),document.getElementById("root"))})),Object(r.a)(l.a.mark((function e(){var t,a,n,r,o,c,i,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Number(localStorage.getItem("lastUserCheck")||"0"),!((new Date).getTime()-t>36e5)){e.next=17;break}if(a=JSON.parse(localStorage.getItem("userData")||"null"),n=localStorage.getItem("authToken")||"",!a||!n){e.next=17;break}return r=rt.a.create({baseURL:"https://strapi.sekai.best"}),e.next=8,r.get("/users/me",{headers:{authorization:"Bearer ".concat(n)}});case 8:return o=e.sent,c=o.data,localStorage.setItem("userData",JSON.stringify(c)),e.next=13,r.get("/user-metadata/me",{headers:{authorization:"Bearer ".concat(n)}});case 13:i=e.sent,m=i.data,localStorage.setItem("userMetaDatum",JSON.stringify(m)),localStorage.setItem("lastUserCheck",String((new Date).getTime()));case 17:case"end":return e.stop()}}),e)})))(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[5896,12,14]]]);
//# sourceMappingURL=main.493088b2.chunk.js.map