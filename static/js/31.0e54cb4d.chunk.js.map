{"version":3,"sources":["components/subs/ContentTrans.tsx","styles/svg.ts","assets/rarity_star_normal.png","assets/rarity_star_afterTraining.png","components/subs/CardThumb.tsx","../node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","../node_modules/@material-ui/core/esm/Card/Card.js","../node_modules/@material-ui/core/esm/CardMedia/CardMedia.js","../node_modules/@material-ui/core/esm/CardContent/CardContent.js","../node_modules/@material-ui/lab/esm/TabContext/TabContext.js","../node_modules/@material-ui/lab/esm/TabPanel/TabPanel.js","components/gacha/GachaDetail.tsx"],"names":["ContentTrans","mode","contentKey","original","originalProps","translatedProps","assetTOptions","assetT","useAssetI18n","color","container","direction","CharaNameTrans","characterId","useCachedData","charas","assetI18n","useState","chara","setChara","useEffect","length","find","c","id","firstName","givenName","includes","language","ReleaseCondTrans","releaseCondId","releaseConds","releaseCond","setReleaseCond","rc","i18nKey","releaseConditionType","Object","assign","level","releaseConditionTypeLevel","releaseConditionTypeId","rank","point","releaseConditionTypeQuantity","sentence","useSvgStyles","makeStyles","svg","display","width","height","pointerEvents","skeleton","paddingTop","module","exports","CardThumb","cardId","trained","onClick","style","CardThumbSkeleton","classes","cards","card","setCard","elem","cardThumbImg","setCardThumbImg","getRemoteAssetURL","assetbundleName","rarityIcon","rarityAfterTraining","rarityNormal","className","xmlns","viewBox","href","x","y","cardThumbFrameMap","String","rarity","attrIconMap","attr","Array","from","map","_","i","key","variant","CardThumbs","cardIds","spacing","justify","alignItems","item","xs","sm","CardThumbMedium","cardLevel","masterRank","patternUnits","preserveAspectRatio","fill","fillOpacity","fontSize","fontWeight","cardThumbMediumFrameMap","cardMasterRankSmallMap","rx","ry","Skeleton","React","props","ref","_props$animation","animation","_props$component","component","Component","_props$variant","other","_objectWithoutProperties","hasChildren","Boolean","children","_extends","clsx","root","withChildren","fitContent","heightAuto","withStyles","theme","backgroundColor","fade","palette","text","primary","type","marginTop","marginBottom","transformOrigin","transform","borderRadius","shape","content","rect","circle","pulse","opacity","wave","position","overflow","background","concat","action","hover","bottom","left","right","top","visibility","maxWidth","name","Card","_props$raised","raised","Paper","elevation","MEDIA_COMPONENTS","CardMedia","image","src","isMediaComponent","indexOf","composedStyle","backgroundImage","media","img","undefined","backgroundSize","backgroundRepeat","backgroundPosition","objectFit","CardContent","padding","paddingBottom","Context","TabContext","value","idPrefix","_React$useState","setId","Math","round","random","useUniquePrefix","context","Provider","useTabContext","getPanelId","getTabId","TabPanel","TypeError","tabId","hidden","role","gachaImageNameMap","1","bg","feature","2","3","7","8","useStyles","cursor","margin","tabpanel","subheader","gachaBtn","StarIcon","num","idx","alt","GachaDetailPage","layoutClasses","useLayoutStyles","gachaId","useParams","t","useTranslation","getTranslated","contentTransMode","useContext","SettingContext","gacha","setGacha","gachas","visible","setVisible","picTabVal","setPicTabVal","activeIdx","setActiveIdx","total","rarity1","rarity2","rarity3","rarity4","statistic","setStatistic","currentGachaResult","setCurrentGachaResult","doGacha","useCallback","times","rollTimes","rollResult","rarity1Rate","rarity2Rate","rarity3Rate","rarity4Rate","must3RollResult","rollCards","gachaDetails","filter","tmpGachaResult","noStar3Count","roll","s","push","floor","console","log","slice","resetGacha","Number","document","title","gachaBackground","setGachaBackground","gachaImage","setGachaImage","gachaIcon","setGachaIcon","getGachaImages","ret","downloadUrl","header","onChange","event","newValue","scrollButtons","label","gachaInformation","description","split","str","line","paragraph","summary","toFixed","align","Date","startAt","toLocaleString","endAt","gachaType","gachaBehaviors","gb","gachaBehaviorType","md","textAlign","wrap","count","gachaPickups","to","textDecoration","onClose","images","zIndex","activeIndex","downloadable","downloadInNewWindow","onMaskClick","zoomSpeed"],"mappings":"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","file":"static/js/31.0e54cb4d.chunk.js","sourcesContent":["import { Grid, Typography, TypographyProps } from \"@material-ui/core\";\nimport { StringMap, TOptions } from \"i18next\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  ContentTransModeType,\n  IGameChara,\n  IReleaseCondition,\n} from \"../../types\";\nimport { useCachedData } from \"../../utils\";\nimport { useAssetI18n } from \"../../utils/i18n\";\n\nexport const ContentTrans: React.FC<{\n  mode: ContentTransModeType;\n  contentKey: string;\n  original: string;\n  originalProps?: TypographyProps;\n  translatedProps?: TypographyProps;\n  assetTOptions?: string | TOptions<StringMap>;\n}> = ({\n  mode,\n  contentKey,\n  original,\n  originalProps,\n  translatedProps,\n  assetTOptions,\n}) => {\n  const { assetT } = useAssetI18n();\n  switch (mode) {\n    case \"original\":\n      return <Typography {...originalProps}>{original}</Typography>;\n    case \"translated\":\n      return (\n        <Typography {...translatedProps} color=\"textPrimary\">\n          {assetT(contentKey, original, assetTOptions)}\n        </Typography>\n      );\n    case \"both\":\n      return (\n        <Grid container direction=\"column\">\n          <Typography {...originalProps} color=\"textPrimary\">\n            {original}\n          </Typography>\n          <Typography {...translatedProps} color=\"textSecondary\">\n            {assetT(contentKey, original, assetTOptions)}\n          </Typography>\n        </Grid>\n      );\n  }\n};\n\nexport const CharaNameTrans: React.FC<{\n  mode: ContentTransModeType;\n  characterId: number;\n  originalProps?: TypographyProps;\n  translatedProps?: TypographyProps;\n  assetTOptions?: string | TOptions<StringMap>;\n}> = ({ mode, characterId, originalProps, translatedProps, assetTOptions }) => {\n  const [charas] = useCachedData<IGameChara>(\"gameCharacters\");\n  const { assetT, assetI18n } = useAssetI18n();\n\n  const [chara, setChara] = useState<IGameChara>();\n\n  useEffect(() => {\n    if (charas.length) {\n      setChara(charas.find((c) => c.id === characterId));\n    }\n  }, [charas, characterId]);\n\n  if (chara) {\n    switch (mode) {\n      case \"original\":\n        return (\n          <Typography {...originalProps} color=\"textPrimary\">\n            {chara.firstName} {chara.givenName}\n          </Typography>\n        );\n      case \"translated\":\n        return [\"zh-CN\", \"zh-TW\", \"ko\", \"ja\"].includes(assetI18n.language) ? (\n          <Typography {...translatedProps} color=\"textPrimary\">\n            {chara.firstName\n              ? assetT(\n                  `character_name:${characterId}.firstName`,\n                  chara.firstName,\n                  assetTOptions\n                )\n              : \"\"}{\" \"}\n            {assetT(\n              `character_name:${characterId}.givenName`,\n              chara.givenName,\n              assetTOptions\n            )}\n          </Typography>\n        ) : (\n          <Typography>\n            {assetT(\n              `character_name:${characterId}.givenName`,\n              chara.givenName,\n              assetTOptions\n            )}{\" \"}\n            {chara.firstName\n              ? assetT(\n                  `character_name:${characterId}.firstName`,\n                  chara.firstName,\n                  assetTOptions\n                )\n              : \"\"}\n          </Typography>\n        );\n      case \"both\":\n        return (\n          <Grid container direction=\"column\">\n            <Typography {...originalProps}>\n              {chara.firstName} {chara.givenName}\n            </Typography>\n            {[\"zh-CN\", \"zh-TW\", \"ko\", \"ja\"].includes(assetI18n.language) ? (\n              <Typography color=\"textSecondary\" {...translatedProps}>\n                {chara.firstName\n                  ? assetT(\n                      `character_name:${characterId}.firstName`,\n                      chara.firstName,\n                      assetTOptions\n                    )\n                  : \"\"}{\" \"}\n                {assetT(\n                  `character_name:${characterId}.givenName`,\n                  chara.givenName,\n                  assetTOptions\n                )}\n              </Typography>\n            ) : (\n              <Typography color=\"textSecondary\" {...translatedProps}>\n                {assetT(\n                  `character_name:${characterId}.givenName`,\n                  chara.givenName,\n                  assetTOptions\n                )}{\" \"}\n                {chara.firstName\n                  ? assetT(\n                      `character_name:${characterId}.firstName`,\n                      chara.firstName,\n                      assetTOptions\n                    )\n                  : \"\"}\n              </Typography>\n            )}\n          </Grid>\n        );\n    }\n  } else {\n    return <Typography></Typography>;\n  }\n};\n\nexport const ReleaseCondTrans: React.FC<{\n  mode: ContentTransModeType;\n  releaseCondId: number;\n  originalProps?: TypographyProps;\n  translatedProps?: TypographyProps;\n  assetTOptions?: string | TOptions<StringMap>;\n}> = ({\n  mode,\n  releaseCondId,\n  originalProps,\n  translatedProps,\n  assetTOptions,\n}) => {\n  const [releaseConds] = useCachedData<IReleaseCondition>(\"releaseConditions\");\n\n  const [releaseCond, setReleaseCond] = useState<IReleaseCondition>();\n\n  useEffect(() => {\n    if (releaseConds.length) {\n      setReleaseCond(releaseConds.find((rc) => rc.id === releaseCondId));\n    }\n  }, [releaseCondId, releaseConds]);\n\n  if (releaseCond) {\n    let i18nKey = \"\";\n    switch (releaseCond.releaseConditionType) {\n      case \"none\":\n        i18nKey = `release_cond:none_${releaseCond.id}`;\n        break;\n      case \"card_level\":\n        i18nKey = `release_cond:card_level`;\n        assetTOptions = Object.assign({}, assetTOptions, {\n          level: releaseCond.releaseConditionTypeLevel,\n        });\n        break;\n      case \"unit_rank\":\n        i18nKey = `release_cond:unit_rank_${releaseCond.releaseConditionTypeId}`;\n        assetTOptions = Object.assign({}, assetTOptions, {\n          rank: releaseCond.releaseConditionTypeLevel,\n        });\n        break;\n      case \"event_point\":\n        i18nKey = `release_cond:event_point`;\n        assetTOptions = Object.assign({}, assetTOptions, {\n          point: releaseCond.releaseConditionTypeQuantity,\n        });\n        break;\n      default:\n        i18nKey = `release_cond:${releaseCond.releaseConditionType}`;\n        break;\n    }\n    return (\n      <ContentTrans\n        mode={mode}\n        contentKey={i18nKey}\n        original={releaseCond.sentence}\n        originalProps={originalProps}\n        translatedProps={translatedProps}\n        assetTOptions={assetTOptions}\n      />\n    );\n  } else {\n    return <div></div>;\n  }\n};\n","import { makeStyles } from \"@material-ui/core\";\n\nexport const useSvgStyles = makeStyles(() => ({\n  svg: {\n    display: \"block\",\n    width: \"100%\",\n    height: \"100%\",\n    pointerEvents: \"visibleStroke\",\n  },\n  skeleton: {\n    width: \"100%\",\n    paddingTop: \"100%\",\n  },\n}));\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import { Grid } from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport React, { useEffect, useState } from \"react\";\nimport { ICardInfo } from \"../../types\";\nimport { getRemoteAssetURL, useCachedData } from \"../../utils\";\n\nimport rarityNormal from \"../../assets/rarity_star_normal.png\";\nimport rarityAfterTraining from \"../../assets/rarity_star_afterTraining.png\";\nimport { useSvgStyles } from \"../../styles/svg\";\nimport {\n  attrIconMap,\n  cardMasterRankSmallMap,\n  cardThumbFrameMap,\n  cardThumbMediumFrameMap,\n} from \"../../utils/resources\";\n\nexport const CardThumb: React.FC<\n  { cardId: number; trained?: boolean } & React.HTMLProps<HTMLDivElement>\n> = ({ cardId, trained = false, onClick, style }) => {\n  const skeleton = CardThumbSkeleton({});\n\n  const classes = useSvgStyles();\n  const [cards] = useCachedData<ICardInfo>(\"cards\");\n  const [card, setCard] = useState<ICardInfo>();\n\n  useEffect(() => {\n    if (cards.length) setCard(cards.find((elem) => elem.id === cardId));\n  }, [cards, cardId]);\n\n  const [cardThumbImg, setCardThumbImg] = useState<string>(\"\");\n  useEffect(() => {\n    if (card) {\n      getRemoteAssetURL(\n        `thumbnail/chara_rip/${card.assetbundleName}_${\n          trained ? \"after_training\" : \"normal\"\n        }.webp`,\n        setCardThumbImg\n      );\n    }\n  }, [card, trained]);\n\n  const rarityIcon = trained ? rarityAfterTraining : rarityNormal;\n\n  return card ? (\n    <div className={classes.svg} onClick={onClick} style={style}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 156 156\">\n        <image href={cardThumbImg} x=\"8\" y=\"8\" height=\"140\" width=\"140\" />\n        {/* frame */}\n        <image\n          href={cardThumbFrameMap[String(card.rarity)]}\n          x=\"0\"\n          y=\"0\"\n          height=\"156\"\n          width=\"156\"\n        />\n        {/* attr */}\n        <image\n          href={attrIconMap[card.attr]}\n          x=\"0\"\n          y=\"0\"\n          width=\"35\"\n          height=\"35\"\n        />\n        {/* rarity */}\n        {Array.from({ length: card.rarity }).map((_, i) => (\n          <image\n            key={`card-rarity-${i}`}\n            href={rarityIcon}\n            x={i * 22 + 8}\n            y=\"124\"\n            width=\"22\"\n            height=\"22\"\n          />\n        ))}\n      </svg>\n    </div>\n  ) : (\n    skeleton\n  );\n};\n\nexport const CardThumbSkeleton: React.FC<{}> = () => {\n  const classes = useSvgStyles();\n\n  return <Skeleton variant=\"rect\" className={classes.skeleton}></Skeleton>;\n};\n\nexport const CardThumbs: React.FC<{ cardIds: number[] }> = ({ cardIds }) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      spacing={2}\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      {cardIds.map((cardId, id) => (\n        <Grid key={id} item xs={4} sm={2}>\n          <CardThumb cardId={cardId} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport const CardThumbsSkeleton: React.FC<{ length: number }> = ({\n  length = 1,\n}) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      spacing={2}\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      {Array.from({ length }).map((_, id) => (\n        <Grid key={id} item xs={4} md={2}>\n          <CardThumbSkeleton></CardThumbSkeleton>\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport const CardThumbMedium: React.FC<\n  {\n    cardId: number;\n    trained: boolean;\n    cardLevel?: number;\n    masterRank?: number;\n  } & React.HTMLProps<HTMLDivElement>\n> = ({ cardId, trained, cardLevel, masterRank, onClick, style }) => {\n  const skeleton = CardThumbSkeleton({});\n  const classes = useSvgStyles();\n  const [cards] = useCachedData<ICardInfo>(\"cards\");\n  const [card, setCard] = useState<ICardInfo>();\n\n  useEffect(() => {\n    if (cards.length) setCard(cards.find((elem) => elem.id === cardId));\n  }, [cards, cardId]);\n\n  const [cardThumbImg, setCardThumbImg] = useState<string>(\"\");\n  useEffect(() => {\n    if (card) {\n      getRemoteAssetURL(\n        `character/member_cutout/${card.assetbundleName}_rip/${\n          trained ? \"after_training\" : \"normal\"\n        }.webp`,\n        setCardThumbImg\n      );\n    }\n  }, [card, trained]);\n\n  const rarityIcon = trained ? rarityAfterTraining : rarityNormal;\n\n  return card ? (\n    <div className={classes.svg} onClick={onClick} style={style}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 330 520\">\n        <defs>\n          <pattern\n            width=\"330\"\n            height=\"520\"\n            id={`mediumThumb-${cardId}`}\n            patternUnits=\"userSpaceOnUse\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 330 520\">\n              <image\n                preserveAspectRatio=\"none\"\n                href={cardThumbImg}\n                x=\"-135\"\n                y=\"0\"\n                height=\"576\"\n                width=\"620\"\n              />\n              {/* level */}\n              <rect\n                x=\"0\"\n                y=\"470\"\n                width=\"330\"\n                height=\"50\"\n                fill=\"black\"\n                fillOpacity=\"0.8\"\n              />\n              <text\n                x=\"30\"\n                y=\"498\"\n                width=\"200\"\n                height=\"30\"\n                fontSize=\"30\"\n                fontWeight=\"lighter\"\n                fill=\"white\"\n              >\n                Lv.{cardLevel}\n              </text>\n              {/* frame */}\n              <image\n                href={cardThumbMediumFrameMap[String(card.rarity)]}\n                x=\"0\"\n                y=\"0\"\n                height=\"520\"\n                width=\"330\"\n              />\n              {/* attr */}\n              <image\n                href={attrIconMap[card.attr]}\n                x=\"9\"\n                y=\"12\"\n                width=\"50\"\n                height=\"50\"\n              />\n              {/* rarity */}\n              {Array.from({ length: card.rarity }).map((_, i) => (\n                <image\n                  key={`card-rarity-${i}`}\n                  href={rarityIcon}\n                  x={i * 33 + 16}\n                  y=\"435\"\n                  width=\"33\"\n                  height=\"33\"\n                />\n              ))}\n              {/* masterRank */}\n              {masterRank && (\n                <image\n                  href={cardMasterRankSmallMap[String(masterRank)]}\n                  x=\"215\"\n                  y=\"405\"\n                  width=\"105\"\n                  height=\"105\"\n                ></image>\n              )}\n            </svg>\n          </pattern>\n        </defs>\n        <rect\n          x=\"4\"\n          y=\"4\"\n          rx=\"30\"\n          ry=\"30\"\n          width=\"322\"\n          height=\"512\"\n          fill={`url(#mediumThumb-${cardId})`}\n        />\n      </svg>\n    </div>\n  ) : (\n    skeleton\n  );\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { chainPropTypes } from '@material-ui/utils';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'block',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center'\n  },\n\n  /* Styles applied to the root element if `component=\"video, audio, picture, iframe, or img\"`. */\n  media: {\n    width: '100%'\n  },\n\n  /* Styles applied to the root element if `component=\"picture or img\"`. */\n  img: {\n    //  object-fit is not supported by IE 11.\n    objectFit: 'cover'\n  }\n};\nvar MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nvar CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      image = props.image,\n      src = props.src,\n      style = props.style,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"image\", \"src\", \"style\"]);\n\n  var isMediaComponent = MEDIA_COMPONENTS.indexOf(Component) !== -1;\n  var composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: \"url(\\\"\".concat(image, \"\\\")\")\n  }, style) : style;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, isMediaComponent && classes.media, \"picture img\".indexOf(Component) !== -1 && classes.img),\n    ref: ref,\n    style: composedStyle,\n    src: isMediaComponent ? image || src : undefined\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('Material-UI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardMedia'\n})(CardMedia);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n/**\n * @type {React.Context<{ idPrefix: string; value: string } | null>}\n */\n\nvar Context = React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  Context.displayName = 'TabContext';\n}\n\nfunction useUniquePrefix() {\n  var _React$useState = React.useState(null),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  React.useEffect(function () {\n    setId(\"mui-p-\".concat(Math.round(Math.random() * 1e5)));\n  }, []);\n  return id;\n}\n\nexport default function TabContext(props) {\n  var children = props.children,\n      value = props.value;\n  var idPrefix = useUniquePrefix();\n  var context = React.useMemo(function () {\n    return {\n      idPrefix: idPrefix,\n      value: value\n    };\n  }, [idPrefix, value]);\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? TabContext.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The value of the currently selected `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\n/**\n * @returns {unknown}\n */\n\nexport function useTabContext() {\n  return React.useContext(Context);\n}\nexport function getPanelId(context, value) {\n  var idPrefix = context.idPrefix;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return \"\".concat(context.idPrefix, \"-P-\").concat(value);\n}\nexport function getTabId(context, value) {\n  var idPrefix = context.idPrefix;\n\n  if (idPrefix === null) {\n    return null;\n  }\n\n  return \"\".concat(context.idPrefix, \"-T-\").concat(value);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles } from '@material-ui/core/styles';\nimport { getPanelId, getTabId, useTabContext } from '../TabContext';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      padding: theme.spacing(3)\n    }\n  };\n};\nvar TabPanel = /*#__PURE__*/React.forwardRef(function TabPanel(props, ref) {\n  var children = props.children,\n      className = props.className,\n      classes = props.classes,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"className\", \"classes\", \"value\"]);\n\n  var context = useTabContext();\n\n  if (context === null) {\n    throw new TypeError('No TabContext provided');\n  }\n\n  var id = getPanelId(context, value);\n  var tabId = getTabId(context, value);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"aria-labelledby\": tabId,\n    className: clsx(classes.root, className),\n    hidden: value !== context.value,\n    id: id,\n    ref: ref,\n    role: \"tabpanel\"\n  }, other), value === context.value && children);\n});\nprocess.env.NODE_ENV !== \"production\" ? TabPanel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The `value` of the corresponding `Tab`. Must use the index of the `Tab` when\n   * no `value` was passed to `Tab`.\n   */\n  value: PropTypes.string.isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabPanel'\n})(TabPanel);","import {\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  Divider,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  Typography,\n  Container,\n} from \"@material-ui/core\";\nimport { useLayoutStyles } from \"../../styles/layout\";\nimport { TabContext, TabPanel } from \"@material-ui/lab\";\nimport React, {\n  Fragment,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Viewer from \"react-viewer\";\nimport { ImageDecorator } from \"react-viewer/lib/ViewerProps\";\nimport {\n  GachaDetail,\n  GachaStatistic,\n  ICardInfo,\n  IGachaInfo,\n} from \"../../types\";\nimport { getRemoteAssetURL, useCachedData } from \"../../utils\";\nimport { CardThumb, CardThumbs } from \"../subs/CardThumb\";\nimport rarityNormal from \"../../assets/rarity_star_normal.png\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAssetI18n } from \"../../utils/i18n\";\nimport { SettingContext } from \"../../context\";\nimport { ContentTrans } from \"../subs/ContentTrans\";\n\nconst gachaImageNameMap: {\n  [key: number]: {\n    bg: string;\n    feature?: string;\n  };\n} = {\n  1: {\n    bg: \"bg_gacha1\",\n    feature: \"img_gacha1_1\",\n  },\n  2: {\n    bg: \"bg_gacha_rare3_ticket_2020\",\n  },\n  3: {\n    bg: \"bg_gacha_virtualsinger_2020\",\n  },\n  7: {\n    bg: \"bg_gacha6\",\n    feature: \"img_gacha6\",\n  },\n  8: {\n    bg: \"bg_gacha8\",\n  },\n};\n\nconst useStyles = makeStyles((theme) => ({\n  media: {\n    paddingTop: \"56.25%\",\n    cursor: \"pointer\",\n  },\n  card: {\n    margin: theme.spacing(0.5),\n  },\n  tabpanel: {\n    padding: theme.spacing(\"1%\", 0, 0, 0),\n  },\n  subheader: {\n    \"white-space\": \"nowrap\",\n    overflow: \"hidden\",\n    \"text-overflow\": \"ellipsis\",\n    \"max-width\": \"260px\",\n  },\n  gachaBtn: {\n    margin: theme.spacing(0, 1),\n  },\n}));\n\nconst StarIcon: React.FC<{ num: number }> = ({ num }) => (\n  <Fragment>\n    {Array.from({ length: num }).map((_, idx) => (\n      <img key={idx} src={rarityNormal} alt=\"star\" height=\"24px\" />\n    ))}\n  </Fragment>\n);\n\nconst GachaDetailPage: React.FC<{}> = () => {\n  const classes = useStyles();\n  const layoutClasses = useLayoutStyles();\n  const { gachaId } = useParams<{ gachaId: string }>();\n  const { t } = useTranslation();\n  const { getTranslated } = useAssetI18n();\n  const { contentTransMode } = useContext(SettingContext)!;\n\n  const [gacha, setGacha] = useState<IGachaInfo>();\n  const [gachas] = useCachedData<IGachaInfo>(\"gachas\");\n  const [visible, setVisible] = useState<boolean>(false);\n  const [picTabVal, setPicTabVal] = useState<string>(\"4\");\n  const [activeIdx, setActiveIdx] = useState<number>(0);\n  const [statistic, setStatistic] = useState<GachaStatistic>({\n    total: 0,\n    rarity1: 0,\n    rarity2: 0,\n    rarity3: 0,\n    rarity4: 0,\n  });\n  const [currentGachaResult, setCurrentGachaResult] = useState<GachaDetail[]>(\n    []\n  );\n\n  const [cards] = useCachedData<ICardInfo>(\"cards\");\n\n  const doGacha = useCallback(\n    (times: number) => {\n      const rollTimes = times;\n      const rollResult = [\n        gacha?.rarity1Rate,\n        gacha?.rarity1Rate! + gacha?.rarity2Rate!,\n        gacha?.rarity1Rate! + gacha?.rarity2Rate! + gacha?.rarity3Rate!,\n        gacha?.rarity1Rate! +\n          gacha?.rarity2Rate! +\n          gacha?.rarity3Rate! +\n          gacha?.rarity4Rate!,\n      ];\n      const must3RollResult = [100 - gacha?.rarity4Rate!, 100];\n      const rollCards = [\n        gacha?.gachaDetails.filter(\n          (elem) => cards.find((card) => card.id === elem.cardId)?.rarity === 1\n        )!,\n        gacha?.gachaDetails.filter(\n          (elem) => cards.find((card) => card.id === elem.cardId)?.rarity === 2\n        )!,\n        gacha?.gachaDetails.filter(\n          (elem) => cards.find((card) => card.id === elem.cardId)?.rarity === 3\n        )!,\n        gacha?.gachaDetails.filter(\n          (elem) => cards.find((card) => card.id === elem.cardId)?.rarity === 4\n        )!,\n      ];\n      const tmpGachaResult: GachaDetail[] = [];\n      let noStar3Count = 0;\n      for (let i = 0; i < rollTimes; i++) {\n        if (i % 10 === 9 && noStar3Count === 9) {\n          // only roll 3* or 4*\n          const roll = Math.random() * 100;\n          if (roll < must3RollResult[0]) {\n            // get 3* card\n            setStatistic((s) =>\n              Object.assign({}, s, {\n                total: s.total + 1,\n                rarity3: s.rarity3 + 1,\n              })\n            );\n            // roll a 3* card\n            tmpGachaResult.push(\n              rollCards[2][Math.floor(Math.random() * rollCards[2]?.length)]\n            );\n          } else if (roll < must3RollResult[1]) {\n            // get 4* card\n            setStatistic((s) =>\n              Object.assign({}, s, {\n                total: s.total + 1,\n                rarity4: s.rarity4 + 1,\n              })\n            );\n            // roll a 4* card\n            tmpGachaResult.push(\n              rollCards[3][Math.floor(Math.random() * rollCards[3]?.length)]\n            );\n          } else {\n            console.log(roll, must3RollResult);\n          }\n          noStar3Count = 0;\n          continue;\n        } else if (i % 10 === 0) {\n          noStar3Count = 0;\n        }\n        const roll = Math.random() * 100;\n        if (roll <= rollResult[0]!) {\n          // get 1* card\n          setStatistic((s) =>\n            Object.assign({}, s, {\n              total: s.total + 1,\n              rarity1: s.rarity1 + 1,\n            })\n          );\n          // roll a 1* card\n          tmpGachaResult.push(\n            rollCards[0][Math.floor(Math.random() * rollCards[0]?.length)]\n          );\n          noStar3Count++;\n        } else if (roll <= rollResult[1]!) {\n          // get 2* card\n          setStatistic((s) =>\n            Object.assign({}, s, {\n              total: s.total + 1,\n              rarity2: s.rarity2 + 1,\n            })\n          );\n          // roll a 2* card\n          tmpGachaResult.push(\n            rollCards[1][Math.floor(Math.random() * rollCards[1]?.length)]\n          );\n          noStar3Count++;\n        } else if (roll <= rollResult[2]!) {\n          // get 3* card\n          setStatistic((s) =>\n            Object.assign({}, s, {\n              total: s.total + 1,\n              rarity3: s.rarity3 + 1,\n            })\n          );\n          // roll a 3* card\n          tmpGachaResult.push(\n            rollCards[2][Math.floor(Math.random() * rollCards[2]?.length)]\n          );\n        } else if (roll <= rollResult[3]!) {\n          // get 4* card\n          setStatistic((s) =>\n            Object.assign({}, s, {\n              total: s.total + 1,\n              rarity4: s.rarity4 + 1,\n            })\n          );\n          // roll a 4* card\n          tmpGachaResult.push(\n            rollCards[3][Math.floor(Math.random() * rollCards[3]?.length)]\n          );\n        } else {\n          console.log(roll, rollResult);\n        }\n      }\n\n      setCurrentGachaResult(tmpGachaResult.slice(-10));\n    },\n    [cards, gacha]\n  );\n\n  const resetGacha = useCallback(() => {\n    setStatistic({\n      total: 0,\n      rarity1: 0,\n      rarity2: 0,\n      rarity3: 0,\n      rarity4: 0,\n    });\n    setCurrentGachaResult([]);\n  }, [setStatistic, setCurrentGachaResult]);\n\n  useEffect(() => {\n    if (gachas.length)\n      setGacha(gachas.find((elem) => elem.id === Number(gachaId)));\n  }, [gachaId, gachas]);\n\n  useEffect(() => {\n    if (gacha) {\n      const name = getTranslated(\n        contentTransMode,\n        `gacha_name:${gachaId}`,\n        gacha.name\n      );\n      document.title = t(\"title:gachaDetail\", {\n        name,\n      });\n    }\n  }, [gacha, contentTransMode, gachaId, getTranslated, t]);\n\n  const [gachaBackground, setGachaBackground] = useState<string>(\"\");\n  const [gachaImage, setGachaImage] = useState<string>(\"\");\n  const [gachaIcon, setGachaIcon] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (gacha) {\n      getRemoteAssetURL(\n        `gacha/${gacha.assetbundleName}/screen_rip/texture/${\n          (gachaImageNameMap[gacha.id] || { bg: `bg_gacha${gacha.id}` }).bg\n        }.webp`,\n        setGachaBackground\n      );\n      getRemoteAssetURL(\n        `gacha/${gacha.assetbundleName}/screen_rip/texture/${\n          (gachaImageNameMap[gacha.id] || { feature: `img_gacha${gacha.id}` })\n            .feature\n        }.webp`,\n        setGachaImage\n      );\n      getRemoteAssetURL(\n        `gacha/${gacha.assetbundleName}/logo_rip/logo.webp`,\n        setGachaIcon\n      );\n    }\n  }, [gacha]);\n\n  const getGachaImages: (gacha: IGachaInfo) => ImageDecorator[] = useCallback(\n    (gacha) => {\n      const ret: ImageDecorator[] = [];\n      if (gachaImageNameMap[gacha.id]) {\n        if (gachaImageNameMap[gacha.id].bg) {\n          ret.push({\n            src: gachaBackground,\n            alt: \"background\",\n            downloadUrl: gachaBackground,\n          });\n        }\n        if (gachaImageNameMap[gacha.id].feature) {\n          ret.push({\n            src: gachaImage,\n            alt: \"feature\",\n            downloadUrl: gachaImage,\n          });\n        }\n      } else {\n        ret.push({\n          src: gachaBackground,\n          alt: \"background\",\n          downloadUrl: gachaBackground,\n        });\n        ret.push({\n          src: gachaImage,\n          alt: \"feature\",\n          downloadUrl: gachaImage,\n        });\n      }\n\n      return ret;\n    },\n    [gachaBackground, gachaImage]\n  );\n\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: string) => {\n    setPicTabVal(newValue);\n  };\n\n  if (gacha) {\n    return (\n      <Fragment>\n        <Typography variant=\"h6\" className={layoutClasses.header}>\n          {getTranslated(contentTransMode, `gacha_name:${gachaId}`, gacha.name)}\n        </Typography>\n        <Container className={layoutClasses.content} maxWidth=\"sm\">\n          <TabContext value={picTabVal}>\n            <Paper>\n              <Tabs\n                value={picTabVal}\n                onChange={handleChange}\n                variant=\"scrollable\"\n                scrollButtons=\"desktop\"\n              >\n                <Tab label={t(\"gacha:tab.title[0]\")} value=\"2\"></Tab>\n                <Tab label={t(\"gacha:tab.title[1]\")} value=\"3\"></Tab>\n                <Tab label={t(\"gacha:tab.title[2]\")} value=\"4\"></Tab>\n                <Tab label={t(\"gacha:tab.title[3]\")} value=\"0\"></Tab>\n                {gachaImageNameMap[gacha.id] ? (\n                  gachaImageNameMap[gacha.id].feature ? (\n                    <Tab label={t(\"gacha:tab.title[4]\")} value=\"1\"></Tab>\n                  ) : null\n                ) : gacha.id >= 4 ? (\n                  <Tab label={t(\"gacha:tab.title[4]\")} value=\"1\"></Tab>\n                ) : null}\n              </Tabs>\n              <TabPanel value=\"0\" classes={{ root: classes.tabpanel }}>\n                <Card\n                  onClick={() => {\n                    setActiveIdx(0);\n                    setVisible(true);\n                  }}\n                >\n                  <CardMedia\n                    className={classes.media}\n                    image={gachaBackground}\n                  ></CardMedia>\n                </Card>\n              </TabPanel>\n              <TabPanel value=\"1\" classes={{ root: classes.tabpanel }}>\n                <Card\n                  onClick={() => {\n                    setActiveIdx(1);\n                    setVisible(true);\n                  }}\n                >\n                  <CardMedia\n                    className={classes.media}\n                    image={gachaImage}\n                  ></CardMedia>\n                </Card>\n              </TabPanel>\n              <TabPanel value=\"2\" classes={{ root: classes.tabpanel }}>\n                <Card>\n                  <CardContent>\n                    {gacha.gachaInformation.description\n                      .split(\"\\n\")\n                      .map((str, line) => (\n                        <Typography\n                          paragraph\n                          variant=\"body2\"\n                          key={`desc-${line}`}\n                        >\n                          {str}\n                        </Typography>\n                      ))}\n                  </CardContent>\n                </Card>\n              </TabPanel>\n              <TabPanel value=\"3\" classes={{ root: classes.tabpanel }}>\n                <Card>\n                  <CardContent>\n                    {gacha.gachaInformation.summary\n                      .split(\"\\n\")\n                      .map((str, line) => (\n                        <Typography\n                          paragraph\n                          variant=\"body2\"\n                          key={`summary-${line}`}\n                        >\n                          {str}\n                        </Typography>\n                      ))}\n                  </CardContent>\n                </Card>\n              </TabPanel>\n              <TabPanel value=\"4\" classes={{ root: classes.tabpanel }}>\n                <Card>\n                  <CardContent>\n                    <Grid container spacing={1} justify=\"center\">\n                      <Grid item>\n                        <Button\n                          variant=\"contained\"\n                          className={classes.gachaBtn}\n                          color=\"secondary\"\n                          onClick={() => doGacha(1)}\n                        >\n                          Gacha!\n                        </Button>\n                      </Grid>\n                      <Grid item>\n                        <Button\n                          variant=\"contained\"\n                          className={classes.gachaBtn}\n                          color=\"primary\"\n                          onClick={() => doGacha(10)}\n                        >\n                          Gacha * 10\n                        </Button>\n                      </Grid>\n                      {/* <Grid item xs={4}>\n                        <Button\n                          variant=\"contained\"\n                          className={classes.gachaBtn}\n                          color=\"primary\"\n                          onClick={() => doGacha(100)}\n                        >\n                          Gacha * 100\n                        </Button>\n                      </Grid>\n                      <Grid item xs={4}>\n                        <Button\n                          variant=\"contained\"\n                          className={classes.gachaBtn}\n                          color=\"primary\"\n                          onClick={() => doGacha(1000)}\n                        >\n                          Gacha * 1000\n                        </Button>\n                      </Grid> */}\n                      <Grid item>\n                        <Button\n                          variant=\"contained\"\n                          className={classes.gachaBtn}\n                          color=\"primary\"\n                          onClick={() => resetGacha()}\n                        >\n                          Reset\n                        </Button>\n                      </Grid>\n                    </Grid>\n                    <Grid container spacing={1} justify=\"center\">\n                      <Grid item>\n                        <Typography>\n                          Total: {statistic.total} Cost: {statistic.total * 300}\n                        </Typography>\n                      </Grid>\n                      <Grid item container spacing={1} justify=\"center\">\n                        <Grid item>\n                          <Typography>\n                            <StarIcon num={2} />\n                            {statistic.rarity2}{\" \"}\n                            {statistic.total\n                              ? (\n                                  (statistic.rarity2 / statistic.total) *\n                                  100\n                                ).toFixed(2)\n                              : 0}{\" \"}\n                            %\n                          </Typography>\n                        </Grid>\n                        <Grid item>\n                          <Typography>\n                            <StarIcon num={3} />\n                            {statistic.rarity3}{\" \"}\n                            {statistic.total\n                              ? (\n                                  (statistic.rarity3 / statistic.total) *\n                                  100\n                                ).toFixed(2)\n                              : 0}{\" \"}\n                            %\n                          </Typography>\n                        </Grid>\n                        <Grid item>\n                          <Typography>\n                            <StarIcon num={4} />\n                            {statistic.rarity4}{\" \"}\n                            {statistic.total\n                              ? (\n                                  (statistic.rarity4 / statistic.total) *\n                                  100\n                                ).toFixed(2)\n                              : 0}{\" \"}\n                            %\n                          </Typography>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </CardContent>\n                  <CardContent>\n                    <CardThumbs\n                      cardIds={currentGachaResult.map((elem) => elem.cardId)}\n                    />\n                  </CardContent>\n                </Card>\n              </TabPanel>\n            </Paper>\n          </TabContext>\n          {/* <Container style={{marginTop: '2%'}} maxWidth=\"sm\"> */}\n          <Grid container direction=\"column\">\n            <Grid\n              item\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"common:id\")}\n              </Typography>\n              <Typography>{gacha.id}</Typography>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n            <Grid\n              item\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"common:title\")}\n              </Typography>\n              <Typography>\n                <ContentTrans\n                  mode={contentTransMode}\n                  contentKey={`gacha_name:${gachaId}`}\n                  original={gacha.name}\n                  originalProps={{ align: \"right\" }}\n                  translatedProps={{ align: \"right\" }}\n                />\n              </Typography>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n            <Grid\n              item\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"common:icon\")}\n              </Typography>\n              <img\n                style={{ maxWidth: \"50%\" }}\n                src={gachaIcon}\n                alt=\"logo icon\"\n              ></img>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n            <Grid\n              item\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"common:startAt\")}\n              </Typography>\n              <Typography>\n                {new Date(gacha.startAt).toLocaleString()}\n              </Typography>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n            <Grid\n              item\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"common:endAt\")}\n              </Typography>\n              <Typography>{new Date(gacha.endAt).toLocaleString()}</Typography>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n            <Grid\n              item\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"common:type\")}\n              </Typography>\n              <Typography>\n                {t(`gacha:gachaType.${gacha.gachaType as \"ceil\"}`)}\n              </Typography>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n            {gacha.gachaBehaviors.find(\n              (gb) => gb.gachaBehaviorType === \"normal\"\n            ) ? (\n              <Fragment>\n                <Grid\n                  item\n                  container\n                  direction=\"row\"\n                  justify=\"space-between\"\n                  alignItems=\"center\"\n                >\n                  <Grid item xs={2} md={4}>\n                    <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                      {t(\"gacha:normalRate\")}\n                    </Typography>\n                  </Grid>\n                  <Grid\n                    item\n                    xs={9}\n                    md={4}\n                    container\n                    direction=\"column\"\n                    alignItems=\"flex-end\"\n                  >\n                    <Grid item container alignItems=\"center\">\n                      <Grid item xs={7} style={{ textAlign: \"right\" }}>\n                        <StarIcon num={2} />\n                      </Grid>\n                      <Grid item xs={5} style={{ textAlign: \"right\" }}>\n                        {gacha.rarity2Rate} %\n                      </Grid>\n                    </Grid>\n                    <Grid item container alignItems=\"center\">\n                      <Grid item xs={7} style={{ textAlign: \"right\" }}>\n                        <StarIcon num={3} />\n                      </Grid>\n                      <Grid item xs={5} style={{ textAlign: \"right\" }}>\n                        {gacha.rarity3Rate} %\n                      </Grid>\n                    </Grid>\n                    <Grid item container alignItems=\"center\">\n                      <Grid item xs={7} style={{ textAlign: \"right\" }}>\n                        <StarIcon num={4} />\n                      </Grid>\n                      <Grid item xs={5} style={{ textAlign: \"right\" }}>\n                        {gacha.rarity4Rate} %\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Divider style={{ margin: \"1% 0\" }} />\n              </Fragment>\n            ) : null}\n            {gacha.gachaBehaviors.find(\n              (gb) => gb.gachaBehaviorType === \"over_rarity_3_once\"\n            ) ? (\n              <Fragment>\n                <Grid\n                  item\n                  container\n                  direction=\"row\"\n                  justify=\"space-between\"\n                  alignItems=\"center\"\n                >\n                  <Grid item xs={2} md={4}>\n                    <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                      {t(\"gacha:guaranteedRate\")}\n                    </Typography>\n                  </Grid>\n                  <Grid\n                    item\n                    xs={9}\n                    md={4}\n                    container\n                    direction=\"column\"\n                    alignItems=\"flex-end\"\n                  >\n                    <Grid item container alignItems=\"center\">\n                      <Grid item xs={7} style={{ textAlign: \"right\" }}>\n                        <StarIcon num={2} />\n                      </Grid>\n                      <Grid item xs={5} style={{ textAlign: \"right\" }}>\n                        0 %\n                      </Grid>\n                    </Grid>\n                    <Grid item container alignItems=\"center\">\n                      <Grid item xs={7} style={{ textAlign: \"right\" }}>\n                        <StarIcon num={3} />\n                      </Grid>\n                      <Grid item xs={5} style={{ textAlign: \"right\" }}>\n                        {100 - gacha.rarity4Rate} %\n                      </Grid>\n                    </Grid>\n                    <Grid item container alignItems=\"center\">\n                      <Grid item xs={7} style={{ textAlign: \"right\" }}>\n                        <StarIcon num={4} />\n                      </Grid>\n                      <Grid item xs={5} style={{ textAlign: \"right\" }}>\n                        {gacha.rarity4Rate} %\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Divider style={{ margin: \"1% 0\" }} />\n              </Fragment>\n            ) : null}\n            <Grid\n              container\n              wrap=\"nowrap\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n            >\n              <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                {t(\"gacha:pickupMember\", { count: gacha.gachaPickups.length })}\n              </Typography>\n              <Grid\n                item\n                container\n                direction=\"row\"\n                xs={6}\n                spacing={1}\n                justify=\"flex-end\"\n              >\n                {gacha.gachaPickups.map((elem) => (\n                  <Grid key={`pickup-${elem.id}`} item xs={8} md={4}>\n                    <Link\n                      to={\"/card/\" + elem.cardId}\n                      style={{ textDecoration: \"none\" }}\n                    >\n                      <CardThumb cardId={elem.cardId} />\n                    </Link>\n                  </Grid>\n                ))}\n              </Grid>\n            </Grid>\n            <Divider style={{ margin: \"1% 0\" }} />\n          </Grid>\n          {/* </Container> */}\n        </Container>\n        <Viewer\n          visible={visible}\n          onClose={() => setVisible(false)}\n          images={getGachaImages(gacha)}\n          zIndex={2000}\n          activeIndex={activeIdx}\n          downloadable\n          downloadInNewWindow\n          onMaskClick={() => setVisible(false)}\n          zoomSpeed={0.25}\n          onChange={(_, idx) => setActiveIdx(idx)}\n        />\n      </Fragment>\n    );\n  } else {\n    return (\n      <div>\n        Loading... If you saw this for a while, gacha {gachaId} does not exist.\n      </div>\n    );\n  }\n};\n\nexport default GachaDetailPage;\n"],"sourceRoot":""}