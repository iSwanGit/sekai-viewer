{"version":3,"sources":["styles/layout.ts","utils/apiClient.ts","../node_modules/@material-ui/core/esm/Grid/Grid.js","../node_modules/@material-ui/core/esm/LinearProgress/LinearProgress.js","components/user/Connect.tsx"],"names":["useLayoutStyles","makeStyles","theme","header","fontWeight","content","marginTop","spacing","marginBottom","marginLeft","marginRight","alert","margin","bold","typography","fontWeightBold","avatarProfile","breakpoints","down","height","width","up","capitalize","textTransform","useStrapi","token","axios","useMemo","Axios","create","baseURL","process","interceptors","request","use","req","headers","authorization","response","res","err","data","message","id","messages","postLoginLocal","useCallback","values","a","post","postRegisterLocal","getRedirectConnectLoginUrl","service","getUri","url","getConnectCallback","provider","searchString","get","getUserMe","postUpload","formData","Object","assign","putUserMetadataMe","userMetaId","put","postForgotPassword","email","postResetPassword","code","password","passwordConfirmation","getSekaiProfileMe","postSekaiProfileVerify","userid","postSekaiProfileConfirm","putSekaiProfileUpdate","getLanguages","getUserMetadataMe","getSekaiCurrentEvent","getSekaiProfileEventRecordMe","eventId","params","postSekaiProfileEventRecord","getAnnouncements","_sort","getAnnouncementById","getAnnouncementPage","limit","page","_limit","_start","getAnnouncementCount","Number","getComments","contentType","postComment","userId","authorUser","related","refId","ref","field","getUserInfo","patchCommentLike","contentId","commentId","patch","postCommentAbuse","reason","SPACINGS","GRID_SIZES","getOffset","val","div","arguments","length","undefined","parse","parseFloat","concat","String","replace","Grid","React","props","_props$alignContent","alignContent","_props$alignItems","alignItems","classes","classNameProp","className","_props$component","component","Component","_props$container","container","_props$direction","direction","_props$item","item","_props$justify","justify","_props$lg","lg","_props$md","md","_props$sm","sm","_props$spacing","_props$wrap","wrap","_props$xl","xl","_props$xs","xs","_props$zeroMinWidth","zeroMinWidth","other","_objectWithoutProperties","clsx","root","_extends","StyledGrid","withStyles","boxSizing","display","flexWrap","minWidth","flexDirection","justifyContent","breakpoint","styles","forEach","themeSpacing","padding","generateGutter","keys","reduce","accumulator","key","globalStyles","size","Math","round","flexBasis","flexGrow","maxWidth","generateGrid","name","LinearProgress","_props$color","color","value","valueBuffer","_props$variant","variant","useTheme","rootProps","inlineStyles","bar1","bar2","transform","_transform","determinate","indeterminate","buffer","query","role","dashed","bar","bar1Indeterminate","bar1Determinate","bar1Buffer","style","bar2Indeterminate","bar2Buffer","getColor","palette","type","lighten","darken","backgroundPrimary","primary","main","backgroundSecondary","secondary","position","overflow","colorAdjust","colorPrimary","backgroundColor","colorSecondary","animation","dashedColorPrimary","backgroundImage","backgroundSize","backgroundPosition","dashedColorSecondary","left","bottom","top","transition","transformOrigin","barColorPrimary","barColorSecondary","zIndex","right","opacity","Connect","layoutClasses","t","useTranslation","useParams","useContext","UserContext","updateUser","updateJwtToken","updateUserMeta","location","useLocation","history","useHistory","useState","progress","setProgress","step","setStep","useEffect","document","title","register","search","jwt","avatarUrl","user","usermeta","avatar","responseType","avatarBuffer","form","FormData","append","substring","lastIndexOf","push","localStorage","setItem","Date","getTime"],"mappings":"8KAEMA,EAAkBC,aAAW,SAACC,GAAD,YAAY,CAC7CC,OAAQ,CACNC,WAAY,QAEdC,QAAS,CACPC,UAAWJ,EAAMK,QAAQ,GACzBC,aAAcN,EAAMK,QAAQ,GAC5BE,WAAY,OACZC,YAAa,QAEfC,MAAO,CACLC,OAAQV,EAAMK,QAAQ,EAAG,IAE3BM,KAAM,CACJT,WAAYF,EAAMY,WAAWC,gBAE/BC,eAAa,mBACVd,EAAMe,YAAYC,KAAK,MAAQ,CAC9BC,OAAQjB,EAAMK,QAAQ,IACtBa,MAAOlB,EAAMK,QAAQ,MAHZ,cAKVL,EAAMe,YAAYI,GAAG,MAAQ,CAC5BF,OAAQjB,EAAMK,QAAQ,IACtBa,MAAOlB,EAAMK,QAAQ,MAPZ,GAUbe,WAAY,CACVC,cAAe,mB,0HCTZ,SAASC,EAAUC,GACxB,IAAMC,EAAQC,mBAAQ,WACpB,IAAMD,EAAQE,IAAMC,OAAO,CACzBC,QAASC,8BAkBX,OAfAL,EAAMM,aAAaC,QAAQC,KAAI,SAACC,GAE9B,OADAV,IAAUU,EAAIC,QAAQC,cAAZ,iBAAsCZ,IACzCU,KAGTT,EAAMM,aAAaM,SAASJ,KAC1B,SAACK,GAAD,OAASA,KACT,SAACC,GAIC,MAHIA,EAAIF,SAASG,KAAKC,QACpBF,EAAIG,GAAKH,EAAIF,SAASG,KAAKC,QAAQ,GAAGE,SAAS,GAAGD,GAC/CH,EAAIG,GAAKH,EAAIE,QACZF,KAIHd,IACN,CAACD,IAEJ,MAAO,CACLoB,eAAgBC,sBAAW,uCACzB,WAAOC,GAAP,SAAAC,EAAA,sEACStB,EAAMuB,KAA0B,cAAeF,GADxD,uCACiEN,MADjE,2CADyB,sDAGzB,CAACf,IAEHwB,kBAAmBJ,sBAAW,uCAC5B,WAAOC,GAAP,SAAAC,EAAA,sEACStB,EAAMuB,KAA0B,uBAAwBF,GADjE,uCAEKN,MAFL,2CAD4B,sDAI5B,CAACf,IAEHyB,2BAA4BL,uBAC1B,SAACM,GAAD,gBACK1B,EAAM2B,OAAO,CACdC,IAAI,GAAD,OAAKvB,4BAAL,oBAAkDqB,QAEzD,CAAC1B,IAEH6B,mBAAoBT,sBAAW,uCAC7B,WACEU,EACAC,GAFF,SAAAT,EAAA,sEAKUtB,EAAMgC,IAAN,gBACKF,EADL,oBACyBC,IANnC,uCAQIhB,MARJ,2CAD6B,wDAU7B,CAACf,IAEHiC,UAAWb,sBAAW,uCACpB,WAAOrB,GAAP,SAAAuB,EAAA,sEAEUtB,EAAMgC,IACV,YACAjC,EACI,CACEW,QAAS,CAAEC,cAAc,UAAD,OAAYZ,KAEtC,IARV,uCAUIgB,MAVJ,2CADoB,sDAYpB,CAACf,IAEHkC,WAAYd,sBAAW,uCACrB,WAAOe,EAAoBpC,GAA3B,SAAAuB,EAAA,sEAEUtB,EAAMuB,KAAK,UAAWY,EAAU,CACpCzB,QAAS0B,OAAOC,OACd,CACE,eAAgB,uBAElBtC,EACI,CACEY,cAAc,UAAD,OAAYZ,IAE3B,MAXZ,uCAcIgB,MAdJ,2CADqB,wDAgBrB,CAACf,IAEHsC,kBAAmBlB,sBAAW,uCAC5B,WACEmB,EACAxB,GAFF,SAAAO,EAAA,sEAIStB,EAAMwC,IAAwB,oBAAqBzB,GAJ5D,uCAImEA,MAJnE,2CAD4B,wDAM5B,CAACf,IAEHyC,mBAAoBrB,sBAAW,uCAC7B,WAAOsB,GAAP,SAAApB,EAAA,sEAEUtB,EAAMuB,KAAN,wBAAoC,CACxCmB,UAHN,uCAKI3B,MALJ,2CAD6B,sDAO7B,CAACf,IAEH2C,kBAAmBvB,sBAAW,uCAC5B,WAAOwB,EAAcC,EAAkBC,GAAvC,SAAAxB,EAAA,sEAEUtB,EAAMuB,KAAN,uBAAmC,CACvCqB,OACAC,WACAC,yBALN,uCAOI/B,MAPJ,2CAD4B,0DAS5B,CAACf,IAEH+C,kBAAmB3B,sBAAW,uCAC5B,WAAOrB,GAAP,SAAAuB,EAAA,sEAEUtB,EAAMgC,IACV,qBACAjC,EACI,CACEW,QAAS,CAAEC,cAAc,UAAD,OAAYZ,KAEtC,IARV,uCAUIgB,MAVJ,2CAD4B,sDAY5B,CAACf,IAEHgD,uBAAwB5B,sBAAW,uCACjC,WACE6B,GADF,SAAA3B,EAAA,sEAOUtB,EAAMuB,KAGT,yBAA0B,CAC3B0B,WAXN,uCAaIlC,MAbJ,2CADiC,sDAejC,CAACf,IAEHkD,wBAAyB9B,sBAAW,uCAClC,WAAOH,EAAYgC,GAAnB,SAAA3B,EAAA,sEAEUtB,EAAMuB,KAAN,0BACeN,EADf,YAEJ,CACEgC,WALR,uCAQIlC,MARJ,2CADkC,wDAUlC,CAACf,IAEHmD,sBAAuB/B,sBAAW,uCAChC,WAAOH,GAAP,SAAAK,EAAA,sEAEUtB,EAAMwC,IAAN,0BACevB,EADf,YAFV,uCAKIF,MALJ,2CADgC,sDAOhC,CAACf,IAEHoD,aAAchC,sBAAW,sBACvB,sBAAAE,EAAA,sEACStB,EAAMgC,IAAqB,cADpC,uCACmDjB,MADnD,2CAEA,CAACf,IAEHqD,kBAAmBjC,sBAAW,uCAC5B,WAAOrB,GAAP,SAAAuB,EAAA,sEAEUtB,EAAMgC,IACV,oBACAjC,EACI,CACEW,QAAS,CAAEC,cAAc,UAAD,OAAYZ,KAEtC,IARV,uCAUIgB,MAVJ,2CAD4B,sDAY5B,CAACf,IAEHsD,qBAAsBlC,sBAAW,sBAC/B,sBAAAE,EAAA,sEACStB,EAAMgC,IAA4B,wBAD3C,uCACoEjB,MADpE,2CAEA,CAACf,IAEHuD,6BAA8BnC,sBAAW,uCACvC,WAAOoC,GAAP,SAAAlC,EAAA,sEAEUtB,EAAMgC,IACV,kCACA,CACEyB,OAAQD,EACJ,CACEA,WAEF,KATZ,uCAYIzC,MAZJ,2CADuC,sDAcvC,CAACf,IAEH0D,4BAA6BtC,sBAAW,uCACtC,WAAOoC,GAAP,SAAAlC,EAAA,sEACStB,EAAMuB,KAAK,sCAAuC,CAAEiC,YAD7D,uCAEKzC,MAFL,2CADsC,sDAItC,CAACf,IAEH2D,iBAAkBvC,sBAAW,sBAC3B,sBAAAE,EAAA,sEAEUtB,EAAMgC,IAAyB,kBAAmB,CACtDyB,OAAQ,CACNG,MAAO,gBAJf,uCAOI7C,MAPJ,2CAQA,CAACf,IAEH6D,oBAAqBzC,sBAAW,uCAC9B,WAAOH,GAAP,SAAAK,EAAA,sEACStB,EAAMgC,IAAN,yBAA+Cf,IADxD,uCAC+DF,MAD/D,2CAD8B,sDAG9B,CAACf,IAEH8D,oBAAqB1C,sBAAW,sBAC9B,0CAAAE,EAAA,6DAAOyC,EAAP,+BAAuB,GAAIC,EAA3B,+BAA0C,EAA1C,SAEUhE,EAAMgC,IAAyB,iBAAkB,CACrDyB,OAAQ,CACNQ,OAAQF,EACRG,OAAQF,EAAOD,EACfH,MAAO,gBANf,uCASI7C,MATJ,2CAUA,CAACf,IAEHmE,qBAAsB/C,sBAAW,sBAC/B,sBAAAE,EAAA,kEAAY8C,OAAZ,SAA0BpE,EAAMgC,IAAI,wBAApC,0BAA6DjB,KAA7D,6EACA,CAACf,IAEHqE,YAAajD,sBAAW,uCACtB,WAAOkD,EAAqBrD,GAA5B,SAAAK,EAAA,sEACStB,EAAMgC,IAAN,oBAAuBsC,EAAvB,YAAsCrD,IAD/C,uCACsDF,MADtD,2CADsB,wDAGtB,CAACf,IAEHuE,YAAanD,sBAAW,uCACtB,WACEkD,EACArD,EACAuD,EACA7F,GAJF,SAAA2C,EAAA,sEAOUtB,EAAMuB,KAAN,oBAAwB+C,EAAxB,YAAuCrD,GAAM,CACjDwD,WAAYD,EACZ7F,UACA+F,QAAS,CACP,CACEC,MAAO1D,EACP2D,IAAKN,EACLO,MAAO,eAdjB,uCAkBI9D,MAlBJ,2CADsB,4DAoBtB,CAACf,IAEH8E,YAAa1D,sBAAW,uCACtB,WAAOH,GAAP,SAAAK,EAAA,sEACStB,EAAMgC,IAAN,iBAA+Bf,IADxC,uCAC+CF,MAD/C,2CADsB,sDAGtB,CAACf,IAEH+E,iBAAkB3D,sBAAW,uCAC3B,WACEkD,EACAU,EACAC,GAHF,SAAA3D,EAAA,sEAMUtB,EAAMkF,MAAN,oBACSZ,EADT,YACwBU,EADxB,oBAC6CC,EAD7C,UANV,uCASIlE,MATJ,2CAD2B,0DAW3B,CAACf,IAEHmF,iBAAkB/D,sBAAW,uCAC3B,WACEkD,EACAU,EACAC,EACAG,EACAzG,GALF,SAAA2C,EAAA,sEAQUtB,EAAMuB,KAAN,oBACS+C,EADT,YACwBU,EADxB,oBAC6CC,EAD7C,iBAEJ,CACEG,SACAzG,YAZR,uCAeIoC,MAfJ,2CAD2B,8DAiB3B,CAACf,O,kCCxUP,8CAiBIqF,EAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC1CC,EAAa,CAAC,QAAQ,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,IA4CnE,SAASC,EAAUC,GACjB,IAAIC,EAAMC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,EAC1EG,EAAQC,WAAWN,GACvB,MAAO,GAAGO,OAAOF,EAAQJ,GAAKM,OAAOC,OAAOR,GAAKS,QAAQD,OAAOH,GAAQ,KAAO,MA6B1E,IA6HHK,EAAoBC,cAAiB,SAAcC,EAAOxB,GAC5D,IAAIyB,EAAsBD,EAAME,aAC5BA,OAAuC,IAAxBD,EAAiC,UAAYA,EAC5DE,EAAoBH,EAAMI,WAC1BA,OAAmC,IAAtBD,EAA+B,UAAYA,EACxDE,EAAUL,EAAMK,QAChBC,EAAgBN,EAAMO,UACtBC,EAAmBR,EAAMS,UACzBC,OAAiC,IAArBF,EAA8B,MAAQA,EAClDG,EAAmBX,EAAMY,UACzBA,OAAiC,IAArBD,GAAsCA,EAClDE,EAAmBb,EAAMc,UACzBA,OAAiC,IAArBD,EAA8B,MAAQA,EAClDE,EAAcf,EAAMgB,KACpBA,OAAuB,IAAhBD,GAAiCA,EACxCE,EAAiBjB,EAAMkB,QACvBA,OAA6B,IAAnBD,EAA4B,aAAeA,EACrDE,EAAYnB,EAAMoB,GAClBA,OAAmB,IAAdD,GAA+BA,EACpCE,EAAYrB,EAAMsB,GAClBA,OAAmB,IAAdD,GAA+BA,EACpCE,EAAYvB,EAAMwB,GAClBA,OAAmB,IAAdD,GAA+BA,EACpCE,EAAiBzB,EAAMvH,QACvBA,OAA6B,IAAnBgJ,EAA4B,EAAIA,EAC1CC,EAAc1B,EAAM2B,KACpBA,OAAuB,IAAhBD,EAAyB,OAASA,EACzCE,EAAY5B,EAAM6B,GAClBA,OAAmB,IAAdD,GAA+BA,EACpCE,EAAY9B,EAAM+B,GAClBA,OAAmB,IAAdD,GAA+BA,EACpCE,EAAsBhC,EAAMiC,aAC5BA,OAAuC,IAAxBD,GAAyCA,EACxDE,EAAQC,YAAyBnC,EAAO,CAAC,eAAgB,aAAc,UAAW,YAAa,YAAa,YAAa,YAAa,OAAQ,UAAW,KAAM,KAAM,KAAM,UAAW,OAAQ,KAAM,KAAM,iBAE1MO,EAAY6B,YAAK/B,EAAQgC,KAAM/B,EAAeM,GAAa,CAACP,EAAQO,UAAuB,IAAZnI,GAAiB4H,EAAQ,cAAcV,OAAOC,OAAOnH,MAAauI,GAAQX,EAAQW,KAAMiB,GAAgB5B,EAAQ4B,aAA4B,QAAdnB,GAAuBT,EAAQ,gBAAgBV,OAAOC,OAAOkB,KAAuB,SAATa,GAAmBtB,EAAQ,WAAWV,OAAOC,OAAO+B,KAAwB,YAAfvB,GAA4BC,EAAQ,kBAAkBV,OAAOC,OAAOQ,KAAgC,YAAjBF,GAA8BG,EAAQ,oBAAoBV,OAAOC,OAAOM,KAA6B,eAAZgB,GAA4Bb,EAAQ,cAAcV,OAAOC,OAAOsB,MAAmB,IAAPa,GAAgB1B,EAAQ,WAAWV,OAAOC,OAAOmC,MAAc,IAAPP,GAAgBnB,EAAQ,WAAWV,OAAOC,OAAO4B,MAAc,IAAPF,GAAgBjB,EAAQ,WAAWV,OAAOC,OAAO0B,MAAc,IAAPF,GAAgBf,EAAQ,WAAWV,OAAOC,OAAOwB,MAAc,IAAPS,GAAgBxB,EAAQ,WAAWV,OAAOC,OAAOiC,MACl2B,OAAoB9B,gBAAoBW,EAAW4B,YAAS,CAC1D/B,UAAWA,EACX/B,IAAKA,GACJ0D,OA+GDK,EAAaC,aAnRG,SAAgBpK,GAClC,OAAOkK,YAAS,CAEdD,KAAM,GAGNzB,UAAW,CACT6B,UAAW,aACXC,QAAS,OACTC,SAAU,OACVrJ,MAAO,QAIT0H,KAAM,CACJyB,UAAW,aACX3J,OAAQ,KAKVmJ,aAAc,CACZW,SAAU,GAIZ,sBAAuB,CACrBC,cAAe,UAIjB,8BAA+B,CAC7BA,cAAe,kBAIjB,2BAA4B,CAC1BA,cAAe,eAIjB,iBAAkB,CAChBF,SAAU,UAIZ,uBAAwB,CACtBA,SAAU,gBAIZ,wBAAyB,CACvBvC,WAAY,UAId,4BAA6B,CAC3BA,WAAY,cAId,0BAA2B,CACzBA,WAAY,YAId,0BAA2B,CACzBA,WAAY,YAId,0BAA2B,CACzBF,aAAc,UAIhB,8BAA+B,CAC7BA,aAAc,cAIhB,4BAA6B,CAC3BA,aAAc,YAIhB,iCAAkC,CAChCA,aAAc,iBAIhB,gCAAiC,CAC/BA,aAAc,gBAIhB,oBAAqB,CACnB4C,eAAgB,UAIlB,sBAAuB,CACrBA,eAAgB,YAIlB,2BAA4B,CAC1BA,eAAgB,iBAIlB,0BAA2B,CACzBA,eAAgB,gBAIlB,0BAA2B,CACzBA,eAAgB,iBA/ItB,SAAwB1K,EAAO2K,GAC7B,IAAIC,EAAS,GAgBb,OAfA/D,EAASgE,SAAQ,SAAUxK,GACzB,IAAIyK,EAAe9K,EAAMK,QAAQA,GAEZ,IAAjByK,IAIJF,EAAO,WAAWrD,OAAOoD,EAAY,KAAKpD,OAAOlH,IAAY,CAC3DK,OAAQ,IAAI6G,OAAOR,EAAU+D,EAAc,IAC3C5J,MAAO,eAAeqG,OAAOR,EAAU+D,GAAe,KACtD,YAAa,CACXC,QAAShE,EAAU+D,EAAc,SAIhCF,EAgIJI,CAAehL,EAAO,MAAOA,EAAMe,YAAYkK,KAAKC,QAAO,SAAUC,EAAaC,GAGnF,OApMJ,SAAsBC,EAAcrL,EAAO2K,GACzC,IAAIC,EAAS,GACb9D,EAAW+D,SAAQ,SAAUS,GAC3B,IAAIF,EAAM,QAAQ7D,OAAOoD,EAAY,KAAKpD,OAAO+D,GAEjD,IAAa,IAATA,EAUJ,GAAa,SAATA,EAAJ,CAUA,IAAIpK,EAAQ,GAAGqG,OAAOgE,KAAKC,MAAMF,EAAO,GAAK,KAAQ,IAAM,KAG3DV,EAAOQ,GAAO,CACZK,UAAWvK,EACXwK,SAAU,EACVC,SAAUzK,QAfV0J,EAAOQ,GAAO,CACZK,UAAW,OACXC,SAAU,EACVC,SAAU,aAZZf,EAAOQ,GAAO,CACZK,UAAW,EACXC,SAAU,EACVC,SAAU,WAyBG,OAAfhB,EACFT,YAASmB,EAAcT,GAEvBS,EAAarL,EAAMe,YAAYI,GAAGwJ,IAAeC,EA6JjDgB,CAAaT,EAAanL,EAAOoL,GAC1BD,IACN,OAwJ+B,CAClCU,KAAM,WADSzB,CAEd1C,GAmBYyC,O,kCCtYf,qEA0LI2B,EAA8BnE,cAAiB,SAAwBC,EAAOxB,GAChF,IAAI6B,EAAUL,EAAMK,QAChBE,EAAYP,EAAMO,UAClB4D,EAAenE,EAAMoE,MACrBA,OAAyB,IAAjBD,EAA0B,UAAYA,EAC9CE,EAAQrE,EAAMqE,MACdC,EAActE,EAAMsE,YACpBC,EAAiBvE,EAAMwE,QACvBA,OAA6B,IAAnBD,EAA4B,gBAAkBA,EACxDrC,EAAQC,YAAyBnC,EAAO,CAAC,UAAW,YAAa,QAAS,QAAS,cAAe,YAElG5H,EAAQqM,cACRC,EAAY,GACZC,EAAe,CACjBC,KAAM,GACNC,KAAM,IAGR,GAAgB,gBAAZL,GAAyC,WAAZA,EAC/B,QAAchF,IAAV6E,EAAqB,CACvBK,EAAU,iBAAmBf,KAAKC,MAAMS,GACxCK,EAAU,iBAAmB,EAC7BA,EAAU,iBAAmB,IAC7B,IAAII,EAAYT,EAAQ,IAEA,QAApBjM,EAAM0I,YACRgE,GAAaA,GAGfH,EAAaC,KAAKE,UAAY,cAAcnF,OAAOmF,EAAW,WACrD7K,EAKb,GAAgB,WAAZuK,EACF,QAAoBhF,IAAhB8E,EAA2B,CAC7B,IAAIS,GAAcT,GAAe,GAAK,IAEd,QAApBlM,EAAM0I,YACRiE,GAAcA,GAGhBJ,EAAaE,KAAKC,UAAY,cAAcnF,OAAOoF,EAAY,WACtD9K,EAKb,OAAoB8F,gBAAoB,MAAOuC,YAAS,CACtD/B,UAAW6B,YAAK/B,EAAQgC,KAAMhC,EAAQ,QAAQV,OAAOnG,YAAW4K,KAAU7D,EAAW,CACnF,YAAeF,EAAQ2E,YACvB,cAAiB3E,EAAQ4E,cACzB,OAAU5E,EAAQ6E,OAClB,MAAS7E,EAAQ8E,OACjBX,IACFY,KAAM,eACLV,EAAW,CACZlG,IAAKA,GACJ0D,GAAoB,WAAZsC,EAAoCzE,gBAAoB,MAAO,CACxEQ,UAAW6B,YAAK/B,EAAQgF,OAAQhF,EAAQ,cAAcV,OAAOnG,YAAW4K,QACrE,KAAmBrE,gBAAoB,MAAO,CACjDQ,UAAW6B,YAAK/B,EAAQiF,IAAKjF,EAAQ,WAAWV,OAAOnG,YAAW4K,MAAuB,kBAAZI,GAA2C,UAAZA,IAAwBnE,EAAQkF,kBAAmB,CAC7J,YAAelF,EAAQmF,gBACvB,OAAUnF,EAAQoF,YAClBjB,IACFkB,MAAOf,EAAaC,OACN,gBAAZJ,EAA4B,KAAoBzE,gBAAoB,MAAO,CAC7EQ,UAAW6B,YAAK/B,EAAQiF,KAAkB,kBAAZd,GAA2C,UAAZA,IAAwBnE,EAAQsF,kBAA+B,WAAZnB,EAAuB,CAACnE,EAAQ,QAAQV,OAAOnG,YAAW4K,KAAU/D,EAAQuF,YAAcvF,EAAQ,WAAWV,OAAOnG,YAAW4K,MAC/OsB,MAAOf,EAAaE,WA2CTrC,iBA/RK,SAAgBpK,GAClC,IAAIyN,EAAW,SAAkBzB,GAC/B,MAA8B,UAAvBhM,EAAM0N,QAAQC,KAAmBC,YAAQ5B,EAAO,KAAQ6B,YAAO7B,EAAO,KAG3E8B,EAAoBL,EAASzN,EAAM0N,QAAQK,QAAQC,MACnDC,EAAsBR,EAASzN,EAAM0N,QAAQQ,UAAUF,MAC3D,MAAO,CAEL/D,KAAM,CACJkE,SAAU,WACVC,SAAU,SACVnN,OAAQ,EACR,eAAgB,CACdoN,YAAa,UAKjBC,aAAc,CACZC,gBAAiBT,GAInBU,eAAgB,CACdD,gBAAiBN,GAInBrB,YAAa,GAGbC,cAAe,GAGfC,OAAQ,CACNyB,gBAAiB,eAInBxB,MAAO,CACLL,UAAW,kBAIbO,OAAQ,CACNkB,SAAU,WACV/N,UAAW,EACXa,OAAQ,OACRC,MAAO,OACPuN,UAAW,8BAIbC,mBAAoB,CAClBC,gBAAiB,mBAAmBpH,OAAOuG,EAAmB,SAASvG,OAAOuG,EAAmB,0BACjGc,eAAgB,YAChBC,mBAAoB,WAItBC,qBAAsB,CACpBH,gBAAiB,mBAAmBpH,OAAO0G,EAAqB,SAAS1G,OAAO0G,EAAqB,0BACrGW,eAAgB,YAChBC,mBAAoB,WAItB3B,IAAK,CACHhM,MAAO,OACPiN,SAAU,WACVY,KAAM,EACNC,OAAQ,EACRC,IAAK,EACLC,WAAY,wBACZC,gBAAiB,QAInBC,gBAAiB,CACfb,gBAAiBvO,EAAM0N,QAAQK,QAAQC,MAIzCqB,kBAAmB,CACjBd,gBAAiBvO,EAAM0N,QAAQQ,UAAUF,MAI3Cb,kBAAmB,CACjBjM,MAAO,OACPuN,UAAW,yEAIbrB,gBAAiB,CACf8B,WAAY,cAAc3H,OAlGN,EAkGkC,aAIxD8F,WAAY,CACViC,OAAQ,EACRJ,WAAY,cAAc3H,OAxGN,EAwGkC,aAIxDgG,kBAAmB,CACjBrM,MAAO,OACPuN,UAAW,0EAIbjB,WAAY,CACV0B,WAAY,cAAc3H,OAnHN,EAmHkC,aAMxD,4BAA6B,CAE3B,KAAM,CACJwH,KAAM,OACNQ,MAAO,QAGT,MAAO,CACLR,KAAM,OACNQ,MAAO,QAET,OAAQ,CACNR,KAAM,OACNQ,MAAO,SAGX,4BAA6B,CAE3B,KAAM,CACJR,KAAM,QACNQ,MAAO,QAGT,MAAO,CACLR,KAAM,OACNQ,MAAO,OAET,OAAQ,CACNR,KAAM,OACNQ,MAAO,QAGX,oBAAqB,CACnB,KAAM,CACJC,QAAS,EACTX,mBAAoB,WAEtB,MAAO,CACLW,QAAS,EACTX,mBAAoB,WAEtB,OAAQ,CACNW,QAAS,EACTX,mBAAoB,oBA6HM,CAChChD,KAAM,qBADOzB,CAEZ0B,I,0LC1MY2D,UAvFe,WAC5B,IAAMC,EAAgB5P,cACd6P,EAAMC,cAAND,EACArM,EAAauM,cAAbvM,SAH0B,EAIqBwM,qBACrDC,KADMC,EAJ0B,EAI1BA,WAAYC,EAJc,EAIdA,eAAgBC,EAJF,EAIEA,eAI9BC,EAAWC,cACXC,EAAUC,cATkB,EAW4BhP,cAAtD+B,EAX0B,EAW1BA,mBAAoBwB,EAXM,EAWNA,kBAAmBnB,EAXb,EAWaA,WAXb,EAaF6M,mBAAS,GAbP,mBAa3BC,EAb2B,KAajBC,EAbiB,OAcVF,mBAAS,IAdC,mBAc3BG,EAd2B,KAcrBC,EAdqB,KAsElC,OAtDAC,qBAAU,WACRC,SAASC,MAAQnB,EAAE,2BAClB,CAACA,IAEJiB,qBAAU,WACR,IAAMG,EAAQ,uCAAG,oCAAAjO,EAAA,sEAEb6N,EAAQhB,EAAE,iCAFG,SAIMtM,EAAmBC,EAAU6M,EAASa,QAAU,IAJtD,cAIPzO,EAJO,OAKb0N,EAAe1N,EAAK0O,KACZC,EAAc3O,EAAK4O,KAAnBD,iBACD3O,EAAK4O,KAAKD,UACjBlB,EAAWzN,EAAK4O,MARH,UASUtM,EAAkBtC,EAAK0O,KATjC,YASPG,EATO,QAUCC,SAAUH,EAVX,wBAWXT,EAAY,IACZE,EAAQhB,EAAE,mCAZC,UAeHjO,IAAM8B,IAAI0N,EAAW,CAAEI,aAAc,SAflC,eAcLC,EAdK,OAgBThP,MAEIiP,EAAO,IAAIC,UACZC,OACH,QACAH,EACAL,EAAUS,UAAUT,EAAWU,YAAY,KAAO,IAEpDJ,EAAKE,OAAO,QAASlK,OAAO4J,EAAS3O,KACrC+O,EAAKE,OAAO,MAAO,iBACnBF,EAAKE,OAAO,QAAS,UA1BV,UA4BLhO,EAAW8N,EAAMjP,EAAK0O,KA5BjB,eA6BXR,EAAY,IA7BD,KA8BXP,EA9BW,UA8BUrL,EAAkBtC,EAAK0O,KA9BjC,2DAgCXf,EAAekB,GACfX,EAAY,KAjCD,QAoCbJ,EAAQwB,KAAK,SACbC,aAAaC,QAAQ,gBAAiBvK,QAAO,IAAIwK,MAAOC,YArC3C,kDAuCI,gCAAb,KAAMxP,IACR4N,EAAQ5I,QAAR,4BAAqCkI,EAAE,4BAxC5B,0DAAH,qDA6CVQ,EAASa,QAAQD,MAEpB,IAGD,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAY3E,QAAQ,KAAKjE,UAAWuH,EAAczP,QAC/C0P,EAAE,0BAEL,kBAAC,IAAD,CAAMnH,WAAS,EAACnI,QAAS,GACvB,kBAAC,IAAD,CAAMuI,MAAI,EAACe,GAAI,IACb,kBAAC,IAAD,KAAa+G,IAEf,kBAAC,IAAD,CAAM9H,MAAI,EAACe,GAAI,IACb,kBAAC,IAAD,CAAgByC,QAAQ,cAAcH,MAAOuE","file":"static/js/44.166a7650.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\n\nconst useLayoutStyles = makeStyles((theme) => ({\n  header: {\n    fontWeight: \"bold\",\n  },\n  content: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n  alert: {\n    margin: theme.spacing(1, 0),\n  },\n  bold: {\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  avatarProfile: {\n    [theme.breakpoints.down(\"sm\")]: {\n      height: theme.spacing(10),\n      width: theme.spacing(10),\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      height: theme.spacing(20),\n      width: theme.spacing(20),\n    },\n  },\n  capitalize: {\n    textTransform: \"capitalize\",\n  },\n}));\n\nexport { useLayoutStyles };\n","import { CommentAbuseReason, CommentModel } from \"./../strapi-model.d\";\nimport Axios from \"axios\";\nimport { useCallback, useMemo } from \"react\";\nimport {\n  AnnouncementModel,\n  LanguageModel,\n  LoginLocalApiReturn,\n  LoginValues,\n  RegisterValues,\n  SekaiCurrentEventModel,\n  SekaiProfileEventRecordModel,\n  SekaiProfileModel,\n  UserMetadatumModel,\n  UserModel,\n} from \"../strapi-model\";\nimport { IUserProfile } from \"../types\";\n\n/**\n * Access Strapi endpoints.\n */\nexport function useStrapi(token?: string) {\n  const axios = useMemo(() => {\n    const axios = Axios.create({\n      baseURL: process.env.REACT_APP_STRAPI_BASE,\n    });\n\n    axios.interceptors.request.use((req) => {\n      token && (req.headers.authorization = `Bearer ${token}`);\n      return req;\n    });\n\n    axios.interceptors.response.use(\n      (res) => res,\n      (err) => {\n        if (err.response.data.message)\n          err.id = err.response.data.message[0].messages[0].id;\n        else err.id = err.message;\n        throw err;\n      }\n    );\n\n    return axios;\n  }, [token]);\n\n  return {\n    postLoginLocal: useCallback(\n      async (values: LoginValues): Promise<LoginLocalApiReturn> =>\n        (await axios.post<LoginLocalApiReturn>(\"/auth/local\", values)).data,\n      [axios]\n    ),\n    postRegisterLocal: useCallback(\n      async (values: RegisterValues): Promise<LoginLocalApiReturn> =>\n        (await axios.post<LoginLocalApiReturn>(\"/auth/local/register\", values))\n          .data,\n      [axios]\n    ),\n    getRedirectConnectLoginUrl: useCallback(\n      (service: string) =>\n        `${axios.getUri({\n          url: `${process.env.REACT_APP_STRAPI_BASE}/connect/${service}`,\n        })}`,\n      [axios]\n    ),\n    getConnectCallback: useCallback(\n      async (\n        provider: string,\n        searchString: string\n      ): Promise<LoginLocalApiReturn> =>\n        (\n          await axios.get<LoginLocalApiReturn>(\n            `/auth/${provider}/callback${searchString}`\n          )\n        ).data,\n      [axios]\n    ),\n    getUserMe: useCallback(\n      async (token?: string): Promise<UserModel> =>\n        (\n          await axios.get<UserModel>(\n            \"/users/me\",\n            token\n              ? {\n                  headers: { authorization: `Bearer ${token}` },\n                }\n              : {}\n          )\n        ).data,\n      [axios]\n    ),\n    postUpload: useCallback(\n      async (formData: FormData, token?: string) =>\n        (\n          await axios.post(\"/upload\", formData, {\n            headers: Object.assign(\n              {\n                \"Content-Type\": \"multipart/form-data\",\n              },\n              token\n                ? {\n                    authorization: `Bearer ${token}`,\n                  }\n                : {}\n            ),\n          })\n        ).data,\n      [axios]\n    ),\n    putUserMetadataMe: useCallback(\n      async (\n        userMetaId: number,\n        data: Partial<UserMetadatumModel>\n      ): Promise<UserMetadatumModel> =>\n        (await axios.put<UserMetadatumModel>(\"/user-metadata/me\", data)).data,\n      [axios]\n    ),\n    postForgotPassword: useCallback(\n      async (email: string) =>\n        (\n          await axios.post(`/auth/forgot-password`, {\n            email,\n          })\n        ).data,\n      [axios]\n    ),\n    postResetPassword: useCallback(\n      async (code: string, password: string, passwordConfirmation: string) =>\n        (\n          await axios.post(`/auth/reset-password`, {\n            code,\n            password,\n            passwordConfirmation,\n          })\n        ).data,\n      [axios]\n    ),\n    getSekaiProfileMe: useCallback(\n      async (token?: string): Promise<SekaiProfileModel> =>\n        (\n          await axios.get<SekaiProfileModel>(\n            \"/sekai-profiles/me\",\n            token\n              ? {\n                  headers: { authorization: `Bearer ${token}` },\n                }\n              : {}\n          )\n        ).data,\n      [axios]\n    ),\n    postSekaiProfileVerify: useCallback(\n      async (\n        userid: string\n      ): Promise<{\n        id: number;\n        token: string;\n      }> =>\n        (\n          await axios.post<{\n            id: number;\n            token: string;\n          }>(\"/sekai-profiles/verify\", {\n            userid,\n          })\n        ).data,\n      [axios]\n    ),\n    postSekaiProfileConfirm: useCallback(\n      async (id: number, userid: string): Promise<{ profile: IUserProfile }> =>\n        (\n          await axios.post<{ profile: IUserProfile }>(\n            `/sekai-profiles/${id}/confirm`,\n            {\n              userid,\n            }\n          )\n        ).data,\n      [axios]\n    ),\n    putSekaiProfileUpdate: useCallback(\n      async (id: number): Promise<{ profile: IUserProfile }> =>\n        (\n          await axios.put<{ profile: IUserProfile }>(\n            `/sekai-profiles/${id}/update`\n          )\n        ).data,\n      [axios]\n    ),\n    getLanguages: useCallback(\n      async (): Promise<LanguageModel[]> =>\n        (await axios.get<LanguageModel[]>(\"/languages\")).data,\n      [axios]\n    ),\n    getUserMetadataMe: useCallback(\n      async (token?: string): Promise<UserMetadatumModel> =>\n        (\n          await axios.get<UserMetadatumModel>(\n            \"/user-metadata/me\",\n            token\n              ? {\n                  headers: { authorization: `Bearer ${token}` },\n                }\n              : {}\n          )\n        ).data,\n      [axios]\n    ),\n    getSekaiCurrentEvent: useCallback(\n      async (): Promise<SekaiCurrentEventModel> =>\n        (await axios.get<SekaiCurrentEventModel>(\"/sekai-current-event\")).data,\n      [axios]\n    ),\n    getSekaiProfileEventRecordMe: useCallback(\n      async (eventId?: number): Promise<SekaiProfileEventRecordModel[]> =>\n        (\n          await axios.get<SekaiProfileEventRecordModel[]>(\n            \"/sekai-profile-event-records/me\",\n            {\n              params: eventId\n                ? {\n                    eventId,\n                  }\n                : {},\n            }\n          )\n        ).data,\n      [axios]\n    ),\n    postSekaiProfileEventRecord: useCallback(\n      async (eventId: number) =>\n        (await axios.post(\"/sekai-profile-event-records/record\", { eventId }))\n          .data,\n      [axios]\n    ),\n    getAnnouncements: useCallback(\n      async () =>\n        (\n          await axios.get<AnnouncementModel[]>(\"/announcements?\", {\n            params: {\n              _sort: \"isPin:DESC\",\n            },\n          })\n        ).data,\n      [axios]\n    ),\n    getAnnouncementById: useCallback(\n      async (id: string) =>\n        (await axios.get<AnnouncementModel>(`/announcements/${id}`)).data,\n      [axios]\n    ),\n    getAnnouncementPage: useCallback(\n      async (limit: number = 30, page: number = 0) =>\n        (\n          await axios.get<AnnouncementModel[]>(\"/announcements\", {\n            params: {\n              _limit: limit,\n              _start: page * limit,\n              _sort: \"isPin:DESC\",\n            },\n          })\n        ).data,\n      [axios]\n    ),\n    getAnnouncementCount: useCallback(\n      async () => Number((await axios.get(\"/announcements/count\")).data),\n      [axios]\n    ),\n    getComments: useCallback(\n      async (contentType: string, id: string | number) =>\n        (await axios.get(`/comments/${contentType}:${id}`)).data,\n      [axios]\n    ),\n    postComment: useCallback(\n      async (\n        contentType: string,\n        id: string | number,\n        userId: number,\n        content: string\n      ) =>\n        (\n          await axios.post(`/comments/${contentType}:${id}`, {\n            authorUser: userId,\n            content,\n            related: [\n              {\n                refId: id,\n                ref: contentType,\n                field: \"comments\",\n              },\n            ],\n          })\n        ).data,\n      [axios]\n    ),\n    getUserInfo: useCallback(\n      async (id: string | number) =>\n        (await axios.get<UserModel>(`/users/${id}`)).data,\n      [axios]\n    ),\n    patchCommentLike: useCallback(\n      async (\n        contentType: string,\n        contentId: string | number,\n        commentId: string | number\n      ) =>\n        (\n          await axios.patch<CommentModel>(\n            `/comments/${contentType}:${contentId}/comment/${commentId}/like`\n          )\n        ).data,\n      [axios]\n    ),\n    postCommentAbuse: useCallback(\n      async (\n        contentType: string,\n        contentId: string | number,\n        commentId: string | number,\n        reason: CommentAbuseReason,\n        content: string\n      ) =>\n        (\n          await axios.post(\n            `/comments/${contentType}:${contentId}/comment/${commentId}/report-abuse`,\n            {\n              reason,\n              content,\n            }\n          )\n        ).data,\n      [axios]\n    ),\n  };\n}\n\n/**\n * Access api.sekai.best endpoints.\n */\n// export function useApi() {\n//   const axios = Axios.create({\n//     baseURL: process.env.REACT_APP_API_BACKEND_BASE,\n//   });\n// }\n","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport requirePropFactory from '../utils/requirePropFactory';\nvar SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nfunction generateGrid(globalStyles, theme, breakpoint) {\n  var styles = {};\n  GRID_SIZES.forEach(function (size) {\n    var key = \"grid-\".concat(breakpoint, \"-\").concat(size);\n\n    if (size === true) {\n      // For the auto layouting\n      styles[key] = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n      return;\n    }\n\n    if (size === 'auto') {\n      styles[key] = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        maxWidth: 'none'\n      };\n      return;\n    } // Keep 7 significant numbers.\n\n\n    var width = \"\".concat(Math.round(size / 12 * 10e7) / 10e5, \"%\"); // Close to the bootstrap implementation:\n    // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n\n    styles[key] = {\n      flexBasis: width,\n      flexGrow: 0,\n      maxWidth: width\n    };\n  }); // No need for a media query for the first size.\n\n  if (breakpoint === 'xs') {\n    _extends(globalStyles, styles);\n  } else {\n    globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n  }\n}\n\nfunction getOffset(val) {\n  var div = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var parse = parseFloat(val);\n  return \"\".concat(parse / div).concat(String(val).replace(String(parse), '') || 'px');\n}\n\nfunction generateGutter(theme, breakpoint) {\n  var styles = {};\n  SPACINGS.forEach(function (spacing) {\n    var themeSpacing = theme.spacing(spacing);\n\n    if (themeSpacing === 0) {\n      return;\n    }\n\n    styles[\"spacing-\".concat(breakpoint, \"-\").concat(spacing)] = {\n      margin: \"-\".concat(getOffset(themeSpacing, 2)),\n      width: \"calc(100% + \".concat(getOffset(themeSpacing), \")\"),\n      '& > $item': {\n        padding: getOffset(themeSpacing, 2)\n      }\n    };\n  });\n  return styles;\n} // Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\n\n\nexport var styles = function styles(theme) {\n  return _extends({\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `container={true}`. */\n    container: {\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexWrap: 'wrap',\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `item={true}`. */\n    item: {\n      boxSizing: 'border-box',\n      margin: '0' // For instance, it's useful when used with a `figure` element.\n\n    },\n\n    /* Styles applied to the root element if `zeroMinWidth={true}`. */\n    zeroMinWidth: {\n      minWidth: 0\n    },\n\n    /* Styles applied to the root element if `direction=\"column\"`. */\n    'direction-xs-column': {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the root element if `direction=\"column-reverse\"`. */\n    'direction-xs-column-reverse': {\n      flexDirection: 'column-reverse'\n    },\n\n    /* Styles applied to the root element if `direction=\"row-reverse\"`. */\n    'direction-xs-row-reverse': {\n      flexDirection: 'row-reverse'\n    },\n\n    /* Styles applied to the root element if `wrap=\"nowrap\"`. */\n    'wrap-xs-nowrap': {\n      flexWrap: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `wrap=\"reverse\"`. */\n    'wrap-xs-wrap-reverse': {\n      flexWrap: 'wrap-reverse'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"center\"`. */\n    'align-items-xs-center': {\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-start\"`. */\n    'align-items-xs-flex-start': {\n      alignItems: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-end\"`. */\n    'align-items-xs-flex-end': {\n      alignItems: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"baseline\"`. */\n    'align-items-xs-baseline': {\n      alignItems: 'baseline'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"center\"`. */\n    'align-content-xs-center': {\n      alignContent: 'center'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-start\"`. */\n    'align-content-xs-flex-start': {\n      alignContent: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-end\"`. */\n    'align-content-xs-flex-end': {\n      alignContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-between\"`. */\n    'align-content-xs-space-between': {\n      alignContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-around\"`. */\n    'align-content-xs-space-around': {\n      alignContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"center\"`. */\n    'justify-xs-center': {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the root element if `justify=\"flex-end\"`. */\n    'justify-xs-flex-end': {\n      justifyContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-between\"`. */\n    'justify-xs-space-between': {\n      justifyContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-around\"`. */\n    'justify-xs-space-around': {\n      justifyContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-evenly\"`. */\n    'justify-xs-space-evenly': {\n      justifyContent: 'space-evenly'\n    }\n  }, generateGutter(theme, 'xs'), theme.breakpoints.keys.reduce(function (accumulator, key) {\n    // Use side effect over immutability for better performance.\n    generateGrid(accumulator, theme, key);\n    return accumulator;\n  }, {}));\n};\nvar Grid = /*#__PURE__*/React.forwardRef(function Grid(props, ref) {\n  var _props$alignContent = props.alignContent,\n      alignContent = _props$alignContent === void 0 ? 'stretch' : _props$alignContent,\n      _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'stretch' : _props$alignItems,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$container = props.container,\n      container = _props$container === void 0 ? false : _props$container,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'row' : _props$direction,\n      _props$item = props.item,\n      item = _props$item === void 0 ? false : _props$item,\n      _props$justify = props.justify,\n      justify = _props$justify === void 0 ? 'flex-start' : _props$justify,\n      _props$lg = props.lg,\n      lg = _props$lg === void 0 ? false : _props$lg,\n      _props$md = props.md,\n      md = _props$md === void 0 ? false : _props$md,\n      _props$sm = props.sm,\n      sm = _props$sm === void 0 ? false : _props$sm,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? 0 : _props$spacing,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? 'wrap' : _props$wrap,\n      _props$xl = props.xl,\n      xl = _props$xl === void 0 ? false : _props$xl,\n      _props$xs = props.xs,\n      xs = _props$xs === void 0 ? false : _props$xs,\n      _props$zeroMinWidth = props.zeroMinWidth,\n      zeroMinWidth = _props$zeroMinWidth === void 0 ? false : _props$zeroMinWidth,\n      other = _objectWithoutProperties(props, [\"alignContent\", \"alignItems\", \"classes\", \"className\", \"component\", \"container\", \"direction\", \"item\", \"justify\", \"lg\", \"md\", \"sm\", \"spacing\", \"wrap\", \"xl\", \"xs\", \"zeroMinWidth\"]);\n\n  var className = clsx(classes.root, classNameProp, container && [classes.container, spacing !== 0 && classes[\"spacing-xs-\".concat(String(spacing))]], item && classes.item, zeroMinWidth && classes.zeroMinWidth, direction !== 'row' && classes[\"direction-xs-\".concat(String(direction))], wrap !== 'wrap' && classes[\"wrap-xs-\".concat(String(wrap))], alignItems !== 'stretch' && classes[\"align-items-xs-\".concat(String(alignItems))], alignContent !== 'stretch' && classes[\"align-content-xs-\".concat(String(alignContent))], justify !== 'flex-start' && classes[\"justify-xs-\".concat(String(justify))], xs !== false && classes[\"grid-xs-\".concat(String(xs))], sm !== false && classes[\"grid-sm-\".concat(String(sm))], md !== false && classes[\"grid-md-\".concat(String(md))], lg !== false && classes[\"grid-lg-\".concat(String(lg))], xl !== false && classes[\"grid-xl-\".concat(String(xl))]);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: className,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes = {\n  /**\n   * Defines the `align-content` style property.\n   * It's applied for all screen sizes.\n   */\n  alignContent: PropTypes.oneOf(['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']),\n\n  /**\n   * Defines the `align-items` style property.\n   * It's applied for all screen sizes.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'stretch', 'baseline']),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the component will have the flex *container* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  container: PropTypes.bool,\n\n  /**\n   * Defines the `flex-direction` style property.\n   * It is applied for all screen sizes.\n   */\n  direction: PropTypes.oneOf(['row', 'row-reverse', 'column', 'column-reverse']),\n\n  /**\n   * If `true`, the component will have the flex *item* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  item: PropTypes.bool,\n\n  /**\n   * Defines the `justify-content` style property.\n   * It is applied for all screen sizes.\n   */\n  justify: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'space-between', 'space-around', 'space-evenly']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `lg` breakpoint and wider screens if not overridden.\n   */\n  lg: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `md` breakpoint and wider screens if not overridden.\n   */\n  md: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `sm` breakpoint and wider screens if not overridden.\n   */\n  sm: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the space between the type `item` component.\n   * It can only be used on a type `container` component.\n   */\n  spacing: PropTypes.oneOf(SPACINGS),\n\n  /**\n   * Defines the `flex-wrap` style property.\n   * It's applied for all screen sizes.\n   */\n  wrap: PropTypes.oneOf(['nowrap', 'wrap', 'wrap-reverse']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `xl` breakpoint and wider screens.\n   */\n  xl: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for all the screen sizes with the lowest priority.\n   */\n  xs: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * If `true`, it sets `min-width: 0` on the item.\n   * Refer to the limitations section of the documentation to better understand the use case.\n   */\n  zeroMinWidth: PropTypes.bool\n} : void 0;\nvar StyledGrid = withStyles(styles, {\n  name: 'MuiGrid'\n})(Grid);\n\nif (process.env.NODE_ENV !== 'production') {\n  var requireProp = requirePropFactory('Grid');\n  StyledGrid.propTypes = _extends({}, StyledGrid.propTypes, {\n    alignContent: requireProp('container'),\n    alignItems: requireProp('container'),\n    direction: requireProp('container'),\n    justify: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\n\nexport default StyledGrid;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport capitalize from '../utils/capitalize';\nimport withStyles from '../styles/withStyles';\nimport { darken, lighten } from '../styles/colorManipulator';\nimport useTheme from '../styles/useTheme';\nvar TRANSITION_DURATION = 4; // seconds\n\nexport var styles = function styles(theme) {\n  var getColor = function getColor(color) {\n    return theme.palette.type === 'light' ? lighten(color, 0.62) : darken(color, 0.5);\n  };\n\n  var backgroundPrimary = getColor(theme.palette.primary.main);\n  var backgroundSecondary = getColor(theme.palette.secondary.main);\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      overflow: 'hidden',\n      height: 4,\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root and bar2 element if `color=\"primary\"`; bar2 if `variant=\"buffer\"`. */\n    colorPrimary: {\n      backgroundColor: backgroundPrimary\n    },\n\n    /* Styles applied to the root and bar2 elements if `color=\"secondary\"`; bar2 if `variant=\"buffer\"`. */\n    colorSecondary: {\n      backgroundColor: backgroundSecondary\n    },\n\n    /* Styles applied to the root element if `variant=\"determinate\"`. */\n    determinate: {},\n\n    /* Styles applied to the root element if `variant=\"indeterminate\"`. */\n    indeterminate: {},\n\n    /* Styles applied to the root element if `variant=\"buffer\"`. */\n    buffer: {\n      backgroundColor: 'transparent'\n    },\n\n    /* Styles applied to the root element if `variant=\"query\"`. */\n    query: {\n      transform: 'rotate(180deg)'\n    },\n\n    /* Styles applied to the additional bar element if `variant=\"buffer\"`. */\n    dashed: {\n      position: 'absolute',\n      marginTop: 0,\n      height: '100%',\n      width: '100%',\n      animation: '$buffer 3s infinite linear'\n    },\n\n    /* Styles applied to the additional bar element if `variant=\"buffer\"` and `color=\"primary\"`. */\n    dashedColorPrimary: {\n      backgroundImage: \"radial-gradient(\".concat(backgroundPrimary, \" 0%, \").concat(backgroundPrimary, \" 16%, transparent 42%)\"),\n      backgroundSize: '10px 10px',\n      backgroundPosition: '0 -23px'\n    },\n\n    /* Styles applied to the additional bar element if `variant=\"buffer\"` and `color=\"secondary\"`. */\n    dashedColorSecondary: {\n      backgroundImage: \"radial-gradient(\".concat(backgroundSecondary, \" 0%, \").concat(backgroundSecondary, \" 16%, transparent 42%)\"),\n      backgroundSize: '10px 10px',\n      backgroundPosition: '0 -23px'\n    },\n\n    /* Styles applied to the layered bar1 and bar2 elements. */\n    bar: {\n      width: '100%',\n      position: 'absolute',\n      left: 0,\n      bottom: 0,\n      top: 0,\n      transition: 'transform 0.2s linear',\n      transformOrigin: 'left'\n    },\n\n    /* Styles applied to the bar elements if `color=\"primary\"`; bar2 if `variant` not \"buffer\". */\n    barColorPrimary: {\n      backgroundColor: theme.palette.primary.main\n    },\n\n    /* Styles applied to the bar elements if `color=\"secondary\"`; bar2 if `variant` not \"buffer\". */\n    barColorSecondary: {\n      backgroundColor: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the bar1 element if `variant=\"indeterminate or query\"`. */\n    bar1Indeterminate: {\n      width: 'auto',\n      animation: '$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite'\n    },\n\n    /* Styles applied to the bar1 element if `variant=\"determinate\"`. */\n    bar1Determinate: {\n      transition: \"transform .\".concat(TRANSITION_DURATION, \"s linear\")\n    },\n\n    /* Styles applied to the bar1 element if `variant=\"buffer\"`. */\n    bar1Buffer: {\n      zIndex: 1,\n      transition: \"transform .\".concat(TRANSITION_DURATION, \"s linear\")\n    },\n\n    /* Styles applied to the bar2 element if `variant=\"indeterminate or query\"`. */\n    bar2Indeterminate: {\n      width: 'auto',\n      animation: '$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite'\n    },\n\n    /* Styles applied to the bar2 element if `variant=\"buffer\"`. */\n    bar2Buffer: {\n      transition: \"transform .\".concat(TRANSITION_DURATION, \"s linear\")\n    },\n    // Legends:\n    // || represents the viewport\n    // -  represents a light background\n    // x  represents a dark background\n    '@keyframes indeterminate1': {\n      //  |-----|---x-||-----||-----|\n      '0%': {\n        left: '-35%',\n        right: '100%'\n      },\n      //  |-----|-----||-----||xxxx-|\n      '60%': {\n        left: '100%',\n        right: '-90%'\n      },\n      '100%': {\n        left: '100%',\n        right: '-90%'\n      }\n    },\n    '@keyframes indeterminate2': {\n      //  |xxxxx|xxxxx||-----||-----|\n      '0%': {\n        left: '-200%',\n        right: '100%'\n      },\n      //  |-----|-----||-----||-x----|\n      '60%': {\n        left: '107%',\n        right: '-8%'\n      },\n      '100%': {\n        left: '107%',\n        right: '-8%'\n      }\n    },\n    '@keyframes buffer': {\n      '0%': {\n        opacity: 1,\n        backgroundPosition: '0 -23px'\n      },\n      '50%': {\n        opacity: 0,\n        backgroundPosition: '0 -23px'\n      },\n      '100%': {\n        opacity: 1,\n        backgroundPosition: '-200px -23px'\n      }\n    }\n  };\n};\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar LinearProgress = /*#__PURE__*/React.forwardRef(function LinearProgress(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      value = props.value,\n      valueBuffer = props.valueBuffer,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"value\", \"valueBuffer\", \"variant\"]);\n\n  var theme = useTheme();\n  var rootProps = {};\n  var inlineStyles = {\n    bar1: {},\n    bar2: {}\n  };\n\n  if (variant === 'determinate' || variant === 'buffer') {\n    if (value !== undefined) {\n      rootProps['aria-valuenow'] = Math.round(value);\n      rootProps['aria-valuemin'] = 0;\n      rootProps['aria-valuemax'] = 100;\n      var transform = value - 100;\n\n      if (theme.direction === 'rtl') {\n        transform = -transform;\n      }\n\n      inlineStyles.bar1.transform = \"translateX(\".concat(transform, \"%)\");\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.error('Material-UI: You need to provide a value prop ' + 'when using the determinate or buffer variant of LinearProgress .');\n    }\n  }\n\n  if (variant === 'buffer') {\n    if (valueBuffer !== undefined) {\n      var _transform = (valueBuffer || 0) - 100;\n\n      if (theme.direction === 'rtl') {\n        _transform = -_transform;\n      }\n\n      inlineStyles.bar2.transform = \"translateX(\".concat(_transform, \"%)\");\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.error('Material-UI: You need to provide a valueBuffer prop ' + 'when using the buffer variant of LinearProgress.');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, {\n      'determinate': classes.determinate,\n      'indeterminate': classes.indeterminate,\n      'buffer': classes.buffer,\n      'query': classes.query\n    }[variant]),\n    role: \"progressbar\"\n  }, rootProps, {\n    ref: ref\n  }, other), variant === 'buffer' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.dashed, classes[\"dashedColor\".concat(capitalize(color))])\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.bar, classes[\"barColor\".concat(capitalize(color))], (variant === 'indeterminate' || variant === 'query') && classes.bar1Indeterminate, {\n      'determinate': classes.bar1Determinate,\n      'buffer': classes.bar1Buffer\n    }[variant]),\n    style: inlineStyles.bar1\n  }), variant === 'determinate' ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.bar, (variant === 'indeterminate' || variant === 'query') && classes.bar2Indeterminate, variant === 'buffer' ? [classes[\"color\".concat(capitalize(color))], classes.bar2Buffer] : classes[\"barColor\".concat(capitalize(color))]),\n    style: inlineStyles.bar2\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? LinearProgress.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary']),\n\n  /**\n   * The value of the progress indicator for the determinate and buffer variants.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n\n  /**\n   * The value for the buffer variant.\n   * Value between 0 and 100.\n   */\n  valueBuffer: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate or query when there is no progress value.\n   */\n  variant: PropTypes.oneOf(['buffer', 'determinate', 'indeterminate', 'query'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiLinearProgress'\n})(LinearProgress);","import { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport Axios from \"axios\";\nimport React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { UserContext } from \"../../context\";\nimport { useLayoutStyles } from \"../../styles/layout\";\n// import { useQuery } from \"../../utils\";\nimport { useStrapi } from \"../../utils/apiClient\";\n// import useJwtAuth from \"../../utils/jwt\";\n\nconst Connect: React.FC<{}> = () => {\n  const layoutClasses = useLayoutStyles();\n  const { t } = useTranslation();\n  const { provider } = useParams<{ provider: string }>();\n  const { updateUser, updateJwtToken, updateUserMeta } = useContext(\n    UserContext\n  )!;\n  // const query = useQuery();\n  const location = useLocation();\n  const history = useHistory();\n  // const jwtAuth = useJwtAuth();\n  const { getConnectCallback, getUserMetadataMe, postUpload } = useStrapi();\n\n  const [progress, setProgress] = useState(0);\n  const [step, setStep] = useState(\"\");\n\n  useEffect(() => {\n    document.title = t(\"title:connectRedirect\");\n  }, [t]);\n\n  useEffect(() => {\n    const register = async () => {\n      try {\n        setStep(t(\"auth:connect.fetch_user_data\"));\n\n        const data = await getConnectCallback(provider, location.search || \"\");\n        updateJwtToken(data.jwt);\n        const { avatarUrl } = data.user;\n        delete data.user.avatarUrl;\n        updateUser(data.user);\n        const usermeta = await getUserMetadataMe(data.jwt);\n        if (!usermeta.avatar && avatarUrl) {\n          setProgress(50);\n          setStep(t(\"auth:connect.fetch_user_avatar\"));\n\n          const avatarBuffer = (\n            await Axios.get(avatarUrl, { responseType: \"blob\" })\n          ).data;\n\n          const form = new FormData();\n          form.append(\n            \"files\",\n            avatarBuffer,\n            avatarUrl.substring(avatarUrl!.lastIndexOf(\"/\") + 1)\n          );\n          form.append(\"refId\", String(usermeta.id));\n          form.append(\"ref\", \"user-metadata\");\n          form.append(\"field\", \"avatar\");\n\n          await postUpload(form, data.jwt);\n          setProgress(75);\n          updateUserMeta(await getUserMetadataMe(data.jwt));\n        } else {\n          updateUserMeta(usermeta);\n          setProgress(100);\n        }\n\n        history.push(\"/user\");\n        localStorage.setItem(\"lastUserCheck\", String(new Date().getTime()));\n      } catch (error) {\n        if (error.id === \"Auth.form.error.email.taken\") {\n          history.replace(`/user/login?error=${t(\"auth:error.email_taken\")}`);\n        }\n      }\n    };\n\n    if (location.search) register();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Fragment>\n      <Typography variant=\"h6\" className={layoutClasses.header}>\n        {t(\"auth:connect.redirect\")}\n      </Typography>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          <Typography>{step}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default Connect;\n"],"sourceRoot":""}